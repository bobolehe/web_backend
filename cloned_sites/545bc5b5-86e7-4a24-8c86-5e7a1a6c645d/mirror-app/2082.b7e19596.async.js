"use strict";(self.webpackChunkapifox_renderer=self.webpackChunkapifox_renderer||[]).push([["2082"],{49015:function(e,n,t){t.d(n,{e:()=>f,default:()=>j,Z:()=>g});var r=t(838e3),l=t(169508),i=t(740565),o=t(483482),s=t(577333),a=t(11868),c=t(996831),d=t(689368),u=t(471504),m=t(171406),p=t(641486);let v="modal-VK7vbB",h="container-GjQVG4",x="wrapper-L7EIRC";function f(e){let n=(0,d.Ay)(e=>e.externalURL),[t,r]=(0,m.A)({}),l=(0,p.useMemo)(()=>({CN:[{key:"contactWechat",src:n.assets.contactWechatPng,alt:"usageHelp.WeChatQrCodeAlt",title:"usageHelp.joinWeChat",description:"usageHelp.WeChatGroup"},{key:"contactFeiShu",src:n.assets.contactFeiShuPng,alt:"usageHelp.FeiShuQrCodeAlt",title:"usageHelp.joinFeiShu",description:"usageHelp.LarkGroup"}],GLOBAL:[]})[e],[n,e]);return(0,p.useEffect)(()=>{l.forEach(e=>{y(e.src,e.key).then(n=>{r({[e.key]:n})})})},[l]),[n,l,t]}async function y(e,n){if(!c.DB)return"";let t="";try{var r;let l=await c.DB.UsageHelpAssets.get(n);if(l&&(null==(r=l.value)?void 0:r.startsWith("data:image/"))&&(t=l.value),t&&l.updatedAt+6048e5>=Date.now())return t;let i=await (await fetch(e)).blob();t=await new Promise(e=>{let n=new FileReader;n.onload=()=>{let t=n.result;e(t)},n.readAsDataURL(i)});let o={updatedAt:Date.now(),value:t,key:n};return l?await c.DB.UsageHelpAssets.put(o):await c.DB.UsageHelpAssets.add(o),t}catch(e){return(0,s.w)(e),t}}function g(e){let{src:n,backupSrc:t,alt:l,style:i,description:o,descriptionStyle:s}=e,[a,c]=(0,p.useState)(!1),d=(0,p.useMemo)(()=>!n||a?t:n,[a,t,n]);return(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("img",{src:d,alt:l,onError:()=>c(!0),style:i}),!!o&&(0,r.jsx)("div",{className:"font-size-sm font-weight-400 text-color-secondary",style:s,children:o})]})}let j=e=>{let{visible:n,onCancel:t}=e,[s,c,d]=f(l.Gi);return n?(0,r.jsx)(u.oi,{title:(0,r.jsx)(i.sA,{id:"usageHelp.title"}),visible:n,footer:null,onCancel:t,width:400,style:{textAlign:"center"},wrapClassName:v,children:(0,r.jsxs)("div",{className:h,children:[(0,r.jsxs)("div",{className:"doc-link text-base",children:[(0,r.jsx)("a",{onClick:()=>{let e,n;return e=s.help.index,n=(0,a.dn)(),void(n&&n.serverUrl&&(e=`${n.serverUrl}/help/`),(0,o.kK)(e))},children:(0,r.jsx)(i.sA,{id:"usageHelp.usageDocsLink",values:{appName:l.JB}})}),(0,r.jsx)("div",{className:"mt-2 font-size-base font-weight-400",style:{color:"var(--ui-alert-text-color)"},children:(0,r.jsx)(i.sA,{id:"usageHelp.kindTips"})})]}),(0,r.jsx)("ul",{className:x,children:c.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)(g,{alt:(0,i.hw)({id:e.alt}),src:e.src,backupSrc:d[e.key],style:{width:160},description:(0,i.hw)({id:e.description}),descriptionStyle:{paddingBlock:8,fontSize:"var(--font-size-base"}})},e.key))})]})}):null}},304984:function(e,n,t){t.d(n,{A:()=>ee,N:()=>Q});var r,l=t(838e3),i=t(843212),o=t(325318),s=t(744283),a=t(740565),c=t(502890),d=t(38468),u=t(724675),m=t(315918),p=t(689368),v=t(740883),h=t(159747),x=t(454008),f=t(140049),y=t(718180),g=t(603240),j=t.n(g),C=t(838487),A=t.n(C),w=t(255906),b=t.n(w),E=t(554692),N=t(257100),k=t(452267),S=t(671466),F=t(641486),M=t(31861),I=t(618487),P=t(590863),T=t(754594),V=t(876898),B=t(255529),D=t(764007),L=t(458184),R=t(138249);let _=e=>{var n;let{formatMessage:t}=(0,a.tz)(),{exportModalVisible:r,environmentList:i,handleExport:o,hideExportModal:s}=e,[c,d]=(0,F.useState)([]),[u]=B.A.useForm(),m=(null==i||null==(n=i.filter(e=>!h.C8.includes(e.type)&&"system"!==e.type))?void 0:n.map(e=>({label:e.name,value:e.id})))||[];return(0,l.jsx)(D.Ay,{title:t({id:"environment.export"}),visible:r,centered:!0,onCancel:s,footer:[(0,l.jsx)(L.A,{onClick:s,children:(0,l.jsx)(a.sA,{id:"projectDetail.label.cancelButton"})},"cancel"),(0,l.jsx)(L.A,{htmlType:"submit",type:"primary",onClick:()=>{u.validateFields().then(()=>{o(c),d([]),u.setFieldsValue({environments:[]})})},children:(0,l.jsx)(a.sA,{id:"projectDetail.label.submitButton"})},"ok")],children:(0,l.jsx)(B.A,{layout:"vertical",form:u,initialValues:{environments:[]},children:(0,l.jsx)(B.A.Item,{label:t({id:"environment.export.title.choose"}),name:"environments",className:"mb-4",rules:[{required:!0,message:t({id:"environment.export.title.choose"}),type:"array"}],style:{marginBottom:0},children:(0,l.jsx)(R.A,{mode:"multiple",allowClear:!0,style:{width:"100%"},options:m,onChange:e=>{d(e)},value:c})})})})};var H=t(939014),z=t(133295),G=t(185264),U=t(359946);function W(e,n){e?(0,U.Q)(e,e=>{e?n(e):(0,G.o)((0,a.hw)({id:"environment.import.formatError"}))}):(0,G.o)((0,a.hw)({id:"environment.import.formatError"}))}function K(e,n,t){W(e,e=>{(0,c.zE)({data:e,type:n},e=>{D.Ay.success({title:(0,a.hw)({id:"message.importSuccess"}),content:(0,l.jsx)("div",{children:(0,l.jsx)("p",{children:(0,a.hw)({id:"environment.import.add"},{normalNum:e.normalNum})})})}),(0,c.yV)(),null==t||t()},{onFailure:()=>(0,G.o)((0,a.hw)({id:"environment.import.formatError"}))})})}function O(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"app";W(e,e=>{(0,z.uF)({type:n,data:e},()=>{D.Ay.success({title:(0,a.hw)({id:"message.importSuccess"})}),(0,z.DS)()},{onFailure:()=>(0,G.o)((0,a.hw)({id:"environment.import.formatError"}))})})}var $=t(817348),Q=((r={})[r.VaultSecret=-4]="VaultSecret",r[r.CommonParameter=-3]="CommonParameter",r[r.GlobalId=-2]="GlobalId",r[r.AddEnvironmentItemId=-1]="AddEnvironmentItemId",r[r.ModuleId=0]="ModuleId",r);let J=(0,M.D)(()=>(0,l.jsx)("div",{className:"menu-item-left-icon drag-handler",children:(0,l.jsx)(S.A,{type:"icon-draggable",className:"cursor-move"})})),Z=e=>{let{title:n,id:t,activeItemId:r,divider:i,icon:o,moreActions:s,onSelectedItemChange:a,className:c="",style:d}=e,u=(0,f.A)(()=>{null==a||a(t)});return(0,l.jsxs)(l.Fragment,{children:["top"===i&&(0,l.jsx)("li",{className:"environment-menu-item-divider"}),(0,l.jsx)("li",{className:A()("environment-menu-item flex w-full items-center my-1",{selected:r===t},c),onClick:u,style:d,children:(0,l.jsx)(x.Ay,{title:(0,l.jsxs)("div",{className:"flex items-center",children:[o,(0,l.jsx)("div",{className:"flex-grow flex-shrink leading-7",children:n})]}),moreActions:s||[]})}),"bottom"===i&&(0,l.jsx)("li",{className:"environment-menu-item-divider"})]})},q=(0,M.Zj)(e=>{let{formatMessage:n}=(0,a.tz)(),{hasPermission:t}=(0,i.w)(s.o.ENV_ENV_CDU),{title:r,id:o,activeItemId:d,visibility:u,environment:m,deleteEnvironment:p,onSelectedItemChange:v,handleClickExport:y}=e,g=(0,f.A)(()=>{(0,c.xq)(m,async e=>{await (0,c.yV)(),e&&e.id&&v(e.id)})}),j=!m||h.C8.includes(m.type)||"system"===m.type?[{name:(0,l.jsx)(E.A,{title:n({id:"mock.service.canNotCopy"}),children:(0,l.jsx)("span",{className:"app-text-fg-disabled",children:n({id:"createAsCopy"})})}),icon:(0,l.jsx)(S.A,{type:"icon-copy-02",className:"opacity-25"})},{name:(0,l.jsx)(E.A,{title:n({id:"mock.service.canNotDelete"}),children:(0,l.jsx)("span",{className:"app-text-fg-disabled",children:n({id:"delete"})})}),icon:(0,l.jsx)(S.A,{type:"icon-trash-04",className:"opacity-25"})}]:[{name:(0,l.jsx)("span",{children:n({id:"createAsCopy"})}),icon:(0,l.jsx)(S.A,{type:"icon-copy-02"}),disabled:!t,onClick:g},{name:(0,l.jsx)("span",{children:n({id:"environment.export"})}),icon:(0,l.jsx)(S.A,{type:"icon-actions-export"}),disabled:!t,onClick:()=>null==y?void 0:y(null==m?void 0:m.id)},{name:(0,l.jsx)("span",{children:n({id:"delete"})}),danger:!0,icon:(0,l.jsx)(S.A,{type:"icon-trash-04"}),disabled:!t,popconfirm:{title:n({id:"confirm.delete"}),onConfirm:()=>p(o)}}],C=(0,f.A)(()=>{v(o)}),w=(0,F.useMemo)(()=>(0,T.a)(m),[m]);return(0,l.jsxs)("li",{className:A()("environment-menu-item flex items-center my-1",{selected:d===o}),onClick:C,children:[(0,l.jsx)(J,{}),(0,l.jsx)(x.Ay,{title:(0,l.jsxs)("div",{className:"flex-grow leading-7 flex items-center",children:[(0,l.jsxs)("div",{className:"flex items-center max-w-full overflow-hidden mr-1",children:[(0,l.jsx)(P.A,{name:w.name||r,color:w.color||(0,V.lr)(null==m?void 0:m.type)}),(0,l.jsx)("span",{className:"truncate",children:r})]}),"private"===u&&(0,l.jsx)(E.A,{title:n({id:"forPersonal"}),children:(0,l.jsx)(S.A,{type:"icon-lock",className:"ml-auto mr-2",color:"var(--ui-purple-6)"})})]}),moreActions:j})]})}),X=(0,M.q6)(e=>{let{children:n,className:t}=e;return(0,l.jsx)("ul",{className:A()("mx-5 my-0 p-0 side-menu",t),children:n})}),Y={},ee=(0,I.connect)(e=>{let{environment:n,project:t}=e;return{environmentList:n.list,environmentMap:n.environmentMap,currentEnvironment:n.currentEnvironment,currentProjectPrivileges:t.currentProjectPrivileges}})(e=>{let n,{formatMessage:t}=(0,a.tz)(),{environmentList:r,environmentMap:h,currentEnvironment:x,activeItemId:g,onSelectedItemChange:C}=e,[w,E]=(0,F.useState)([]),[M,I,P]=(0,v.A)(),{run:T}=(n=(0,F.useRef)(),(0,F.useEffect)(()=>{let e=document.createElement("input");return e.type="file",e.style.display="none",document.body.append(e),n.current=e,()=>{document.body.removeChild(e)}},[]),{run:(0,f.A)(()=>new Promise((e,t)=>{n.current?(n.current.onchange=n=>{let{target:t}=n,{files:r}=t;e(r?[...r]:[]),t.value=""},n.current.click()):t()}))}),{currentUser:V=Y,currentProjectMembers:B}=(0,p.Ay)(e=>({currentUser:e.user.currentUser,currentProjectMembers:e.projectMember.currentProjectMembers})),L=null==B?void 0:B.find(e=>e.userId===(null==V?void 0:V.id));(0,y.A)(()=>{r||(0,c.yV)()}),(0,F.useEffect)(()=>{E(null==r?void 0:r.map(e=>{let{id:n,name:t,visibility:r}=e;return{id:n,title:t,visibility:r}}))},[r]);let R=async()=>{let{data:e}=await (0,c.yV)();return e},z=e=>{if(e&&h&&h[e]){let n=h[e];(0,c.J8)(n,async()=>{x&&e===x.id&&(0,c.P$)(c.a2);let n=await R();n&&n.length>0?C(n[0].id):C(-1)})}},U=(e,n)=>{let t=n,r=e.headers.get("content-disposition");if(r){var l;t=null==(l=b().parse(r).parameters)?void 0:l.filename}return e.blob().then(e=>{(0,u.jN)(e,{filename:t})})},Q=e=>{(0,m.aT)((0,m.y5)(),{environmentsIds:e}).then(e=>{U(e,"export-environments.json"),P()})},J=e=>{e?Q([e]):I(!0)},ee=async()=>{U(await (0,m.aT)((0,m.AF)()),"export-global-variables.json")},en=async()=>{U(await (0,m.aT)((0,m.pc)()),"export-common-parameters.json")},{hasPermission:et}=(0,i.w)(s.o.ENV_GLOB_VAR_CDU),{hasPermission:er}=(0,i.w)(s.o.ENV_GLOB_PARAM_CDU),{hasPermission:el}=(0,i.w)(s.o.ENV_ENV_CDU);return(0,l.jsxs)(X,{onSortEnd:e=>{var n;let t,r,{oldIndex:l,newIndex:i}=e;if(i===l)return;let o={id:w[l].id};i<l?r="-1":r="1",t={id:w[i].id},E(j()(w,l,i)),n={dragItem:o,dropItem:t,dropPosition:r},(0,c.vO)(n,()=>{R()})},useDragHandle:!0,helperClass:"show-sortable-menu-item",className:"pt-0 pb-5",children:[(0,l.jsx)("div",{className:A()("text-xs pt-3 pb-2 opacity-50 uppercase","environment-menu-group-title"),children:t({id:"global"})}),(0,l.jsx)(Z,{activeItemId:g,onSelectedItemChange:C,icon:(0,l.jsx)(S.A,{className:"mr-2",type:"icon-surroundings-global-variable"}),id:-2,title:t({id:"variable.globals"}),moreActions:[{name:(0,l.jsx)("span",{children:t({id:"import"})}),icon:(0,l.jsx)(S.A,{type:"icon-actions-import"}),disabled:!et,onClick:()=>{T().then(e=>O(e[0]))}},{name:(0,l.jsx)("span",{children:t({id:"export"})}),icon:(0,l.jsx)(S.A,{type:"icon-actions-export"}),disabled:!et,onClick:()=>ee()},{divider:!0,name:(0,l.jsx)("span",{children:t({id:"globalVariable.import.postman"})}),icon:(0,l.jsx)(S.A,{type:"icon-actions-import"}),disabled:!et,onClick:()=>{T().then(e=>O(e[0],"postman"))}}]}),(0,l.jsx)(Z,{activeItemId:g,onSelectedItemChange:C,icon:(0,l.jsx)(S.A,{className:"mr-2",type:"icon-surroundings-global-parameters"}),id:-3,title:t({id:"parameter.globals"}),moreActions:[{name:(0,l.jsx)("span",{children:t({id:"import"})}),icon:(0,l.jsx)(S.A,{type:"icon-actions-import"}),disabled:!er,onClick:()=>{T().then(e=>{W(e[0],e=>{(0,H.FN)({data:e},()=>{D.Ay.success({title:(0,a.hw)({id:"message.importSuccess"})}),(0,H.SA)()},{onFailure:()=>(0,G.o)((0,a.hw)({id:"environment.import.formatError"}))})})})}},{name:(0,l.jsx)("span",{children:t({id:"export"})}),icon:(0,l.jsx)(S.A,{type:"icon-actions-export"}),disabled:!er,onClick:()=>en()}]}),L&&(0,l.jsx)(Z,{activeItemId:g,onSelectedItemChange:C,icon:(0,l.jsx)(S.A,{className:"mr-2",type:"icon-Shield"}),divider:"bottom",id:-4,title:t({id:"vaultSecret.parameter.title"})}),(0,l.jsxs)("div",{className:"py-2 text-xs opacity-50 flex justify-between items-center",children:[(0,l.jsx)("div",{className:"environment-menu-group-title uppercase",children:t({id:"environment"})}),(0,l.jsx)(N.A,{overlay:(0,l.jsxs)(k.A,{children:[(0,l.jsx)(k.A.Item,{disabled:!el,icon:(0,l.jsx)(S.A,{type:"icon-actions-import"}),onClick:()=>{T().then(e=>K(e[0],void 0,d.Y6))},children:t({id:"environment.import"})},"1"),(0,l.jsx)(k.A.Item,{disabled:!el,onClick:()=>null==J?void 0:J(),icon:(0,l.jsx)(S.A,{type:"icon-actions-export"}),children:t({id:"environment.export"})},"2"),(0,l.jsx)(k.A.Divider,{}),(0,l.jsx)(k.A.Item,{disabled:!el,icon:(0,l.jsx)(S.A,{type:"icon-actions-import"}),onClick:()=>{T().then(e=>K(e[0],"postman",d.Y6))},children:t({id:"environment.import.postman"})},"4")]}),children:(0,l.jsx)("div",{className:"more-operations",children:(0,l.jsx)(S.A,{type:"icon-dots-horizontal"})})}),(0,l.jsx)(_,{environmentList:r,exportModalVisible:M,handleExport:Q,hideExportModal:P})]}),null==w?void 0:w.filter(e=>"public"!==e.visibility).map((e,n)=>{let{id:t}=e;return(0,l.jsx)(q,{index:n,activeItemId:g,environment:h[t],onSelectedItemChange:C,deleteEnvironment:z,handleClickExport:J,...e},t)}),(0,l.jsx)(o.y,{hiddenToGuest:!0,permission:s.o.ENV_ENV_CDU,children:(0,l.jsx)(Z,{activeItemId:g,onSelectedItemChange:C,icon:(0,l.jsx)(S.A,{type:"icon-nav-add",className:"mr-2"}),divider:"top",id:-1,className:$.K,title:t({id:"createNewEnvironment"})})})]})})},590863:function(e,n,t){t.d(n,{A:()=>d});var r=t(838e3),l=t(838487),i=t.n(l),o=t(641486);let s="environment-icon-j9QCf5";var a=t(876898);function c(e){return/[\x00-\xff]/.test(e)}let d=(0,o.memo)(e=>{let{name:n,color:t=(0,a.D8)(),size:l=".8em",fontSize:d,icon:u,disabled:m,hoverEffect:p,className:v,onClick:h}=e,[x,f]=(0,o.useState)(!1),y=(0,o.useMemo)(()=>{let e=null==n?void 0:n.trim();return e?function(e){var n,t;let r=[...e],l=null!=(n=r[0])?n:"";if(!c(l))return l;let i=null!=(t=r[1])?t:"";return i&&!c(i)?i:`${l}${i}`}(e):null!=u?u:""},[n]),[g,j,C]=(0,o.useMemo)(()=>{let e=""===t?(0,a.D8)():t;return[`${e}a3`,`${e}0a`,`${e}14`]},[t]),A=(0,o.useCallback)(()=>{p&&f(!0)},[p]),w=(0,o.useCallback)(()=>{p&&f(!1)},[p]),b=null!=d?d:l;return(0,r.jsx)("span",{className:i()(v,"environment-icon",s,{"opacity-50":m,"cursor-pointer":p}),ref:e=>{null==e||e.style.setProperty("color",g,"important")},style:{fontSize:b,width:l,height:l,padding:".4rem",background:x?C:j},onClick:h,onMouseEnter:A,onMouseLeave:w,children:y})},(e,n)=>{let{name:t,color:r}=e,{name:l,color:i}=n;return t===l&&r===i})},754594:function(e,n,t){t.d(n,{a:()=>l});var r=t(876898);function l(e){if(!e)return{name:"",color:(0,r.D8)()};let{tags:n,type:t}=e;return(null==n?void 0:n.length)?n[0]:{name:"",color:(0,r.lr)(t)}}},876898:function(e,n,t){t.d(n,{D8:()=>o,NP:()=>i,Tj:()=>l,lr:()=>s});var r=t(398380);let l=["#FA8C16","#EB2F96","#4CAF50","#9373EE","#13C2C2","#FA541C","#1890FF","#2F54EB"],i=()=>l[(0,r.random)(l.length-1)],o=()=>"#1890FF",s=e=>e?({SELF_HOSTED_MOCK:"#1890FF",cloudMock:"#FA541C",mock:"#13C2C2",system:"#EB2F96",normal:"#9373EE"})[e]||o():o()},817348:function(e,n,t){t.d(n,{K:()=>s,m:()=>b});var r=t(838e3),l=t(740565),i=t(819463),o=t(641486);let s="enviroment-modal__add-enviroment";var a=t(941401),c=t(255529),d=t(458184),u=t(838487),m=t.n(u),p=t(671466),v=t(69712),h=t(735548);let x="environmentNameInputWrapper-TfoIgr",f="border-OXmbmc",y="autoInputWrapper-NeVUxQ",g="name-X6paFf",j="loading-F4GZoX",C="action-FxbXwV",A="id-unauSE",w="editingId-DJ0boB",b=(0,o.forwardRef)((e,n)=>{let{formRef:t,channelModify:u,environment:b,environmentName:E,hasEnvCDUPermission:N,loading:k,handleSubmit:S,isCreate:F,editing:M,onEditing:I}=e,P=(0,o.useRef)(""),T=(0,o.useRef)(null),V=(0,o.useRef)(null),B=(0,o.useRef)(null),D=()=>{t.getFieldValue("name")||t.setFieldValue("name",(0,l.hw)({id:"environmentDetail.title.name"}))},L=async()=>{D();let e=P.current;try{await S(t.getFieldsValue()),I(!1)}catch(n){P.current=e}},R=()=>{k||(t.setFieldValue("name",P.current),I(!1))},_=F?[()=>{var e;return null==(e=document.getElementsByClassName(s))?void 0:e[0]}]:[V,B];return(0,i.A)(()=>{F?k||(D(),I(!1)):R()},[T,..._]),(0,o.useImperativeHandle)(n,()=>({checkAndSubmit(){L()},checkAndSetDefaultValue:D})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A.Item,{name:"name",rules:[{required:!0,message:(0,l.hw)({id:"validate.messageWith"},{name:(0,l.hw)({id:"environmentDetail.label.name"})})}],labelCol:{span:4},wrapperCol:{flex:1},className:m()(x,M&&f),children:M?(0,r.jsx)(a.O,{ref:T,autoFocus:!0,showTitle:!0,wrapperClassName:y,placeholder:(0,l.hw)({id:"environmentDetail.label.name.placeholder"}),disabled:k,style:{"--autoWidthInput-fontSize":"15px"},onInput:u,onFocus:()=>{P.current=t.getFieldValue("name")}}):(0,r.jsx)("div",{title:E,className:m()(g,k&&j),onClick:e=>{e.stopPropagation(),k||I(!0)},children:E})}),M&&!F&&(0,r.jsxs)("div",{className:m()(C),children:[(0,r.jsx)(d.A,{ref:V,type:"default",size:"middle",theme:"secondary",icon:(0,r.jsx)(p.A,{type:"icon-Checked"}),disabled:!N||k,onBlur:v.dG,onClick:L}),(0,r.jsx)(d.A,{ref:B,type:"default",onClick:()=>R(),size:"middle",disabled:k,theme:"secondary",icon:(0,r.jsx)(p.A,{type:"icon-x-close"})})]}),b&&(0,r.jsx)(h.A,{className:m()(A,M&&w),id:b.id})]})})},735548:function(e,n,t){t.d(n,{A:()=>x});var r=t(838e3),l=t(740565),i=t(867960),o=t(838487),s=t.n(o),a=t(554692),c=t(671466);let d="container-HuQkJA",u="iconText-RnCeAm",m="text-Epx0Mt",p="icon-hpdT3u";var v=t(641486);let h=e=>{let{iconType:n,iconColor:t,msg:l}=e;return(0,r.jsxs)("div",{className:"flex justify-center gap-1 items-center",children:[(0,r.jsx)(c.A,{type:n,color:t}),(0,r.jsx)("span",{children:l})]})};function x(e){let{id:n,className:t,variant:o="primary",defaultTitle:x=(0,l.hw)({id:"copyApiId"})}=e,[f,y]=(0,v.useState)(x),g=(0,l.hw)({id:"overView.isCopied"}),j=(0,v.useMemo)(()=>{switch(o){case"primary":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{type:"icon-NumberHash",className:p}),(0,r.jsx)("span",{className:u,children:n})]});case"text":return(0,r.jsx)("span",{className:m,children:n});default:return null}},[o,n]);return(0,r.jsx)(a.A,{title:f,destroyTooltipOnHide:{keepParent:!1},onOpenChange:e=>{e||y(x)},children:(0,r.jsx)("div",{className:s()(d,t),onClick:e=>{e.stopPropagation(),(0,i.r)(`${n}`,{onSuccess(){y((0,r.jsx)(h,{msg:g,iconType:"icon-CircleCompleteSolid",iconColor:"var(--ui-success-color)"}))},errorMsg:(0,l.hw)({id:"overView.failToCopied"})})},children:j})})}},775803:function(e,n,t){t.d(n,{Ay:()=>c,Sm:()=>s,Su:()=>a});var r=t(121595),l=t(641486),i=t.n(l);let o=(0,l.createContext)({}),s=(0,r.sH)(()=>"apiManage"),a=e=>((0,l.useEffect)(()=>{s.setState(e.value.menu.activeChild)},[e.value]),i().createElement(o.Provider,e)),c=o},325318:function(e,n,t){t.d(n,{y:()=>a});var r=t(838e3),l=t(496411),i=t(160148),o=t(125199),s=t(60866);function a(e){let{projectId:n=(0,l.MJ)()||0,branchId:t,permission:a="",hiddenToGuest:c=!1,limitReactedTooltipType:d,checkLimitReachedFn:u,children:m,disabledRenderer:p,tooltipProps:v,checkPermissionFn:h,wrapperDisabledStyle:x,...f}=e;return(0,r.jsx)(s.T,{projectId:n,hiddenToGuest:c,tooltipProps:v,...f,children:(0,r.jsx)(i.b,{projectId:n,limitReactedTooltipType:d,customLimitReached:u,disabledRenderer:p,tooltipProps:v,wrapperDisabledStyle:x,...f,children:(0,r.jsx)(o.C,{projectId:n,permission:a,disabledRenderer:p,tooltipProps:v,checkPermissionFn:h,wrapperDisabledStyle:x,branchId:t,...f,children:m})})})}},160148:function(e,n,t){t.d(n,{b:()=>m});var r=t(838e3),l=t(362010),i=t(496411),o=t(689368),s=t(16850),a=t(554692),c=t(641486),d=t.n(c),u=t(417486);function m(e){let{projectId:n=(0,i.MJ)()||0,limitReactedTooltipType:t,customLimitReached:c,children:m,disabledRenderer:p,tooltipProps:v={},wrapperDisabledStyle:h={disabledColor:!0,noPointerEvents:!0,notAllowCursor:!0},...x}=e,f=(((0,o.Ay)(e=>e.project.projectMap)||{})[n]||{}).teamId,{isLimitReached:y,limitReachedReason:g}=(0,l.RV)({teamId:f,customLimitReached:c}),j="none"===t?(0,l.Zf)("none"):(0,l.Zf)(g),C=d().Children.map(m,e=>{if(!d().isValidElement(e))return e;let n={eventKey:x.eventKey,value:(null==x?void 0:x.value)||e.props.value,onChange:(null==x?void 0:x.onChange)||e.props.onChange,onMouseEnter:(null==x?void 0:x.onMouseEnter)||e.props.onMouseEnter,onMouseLeave:(null==x?void 0:x.onMouseLeave)||e.props.onMouseLeave,onFocus:(null==x?void 0:x.onFocus)||e.props.onFocus,onClick:(null==x?void 0:x.onClick)||e.props.onClick,onBlur:(null==x?void 0:x.onBlur)||e.props.onBlur};return y?(0,u.S)(e,{disabled:!0,wrapperDisabledStyle:h,...n}):d().cloneElement(e,{...e.props,...n})});if(y)return p?(0,r.jsx)(r.Fragment,{children:p}):(0,r.jsx)(s.Ay,{componentDisabled:!0,children:(0,r.jsx)(a.A,{...v,title:v.title||j,children:C})});return(0,r.jsx)(r.Fragment,{children:C})}},125199:function(e,n,t){t.d(n,{C:()=>p,R:()=>m});var r=t(838e3),l=t(740565),i=t(496411),o=t(16850),s=t(554692),a=t(641486),c=t.n(a),d=t(843212),u=t(417486);function m(e){return e?(0,r.jsx)(l.sA,{id:"branch.protecting.tip"}):(0,r.jsx)(l.sA,{id:"message.noPrivilege"})}function p(e){let{projectId:n=(0,i.MJ)()||0,branchId:t,permission:l,disabledRenderer:a,tooltipProps:p={},children:v,checkPermissionFn:h,wrapperDisabledStyle:x={disabledColor:!0,noPointerEvents:!0,notAllowCursor:!0},...f}=e,{hasPermission:y,isProtectedBranchPermission:g}=(0,d.w)(l,n,t),j=h?h({hasPermission:y,isProtectedBranchPermission:g}):y,C=m(g),A=c().Children.map(v,e=>{var n;if(!c().isValidElement(e))return e;let t={eventKey:f.eventKey,value:null!=(n=null==f?void 0:f.value)?n:e.props.value,onChange:(null==f?void 0:f.onChange)||e.props.onChange,onMouseEnter:(null==f?void 0:f.onMouseEnter)||e.props.onMouseEnter,onMouseLeave:(null==f?void 0:f.onMouseLeave)||e.props.onMouseLeave,onFocus:(null==f?void 0:f.onFocus)||e.props.onFocus,onClick:(null==f?void 0:f.onClick)||e.props.onClick,onBlur:(null==f?void 0:f.onBlur)||e.props.onBlur};return j?c().cloneElement(e,{...e.props,...t}):(0,u.S)(e,{disabled:!0,wrapperDisabledStyle:x,...t})});if(!j)return a?(0,r.jsx)(r.Fragment,{children:a}):(0,r.jsx)(o.Ay,{componentDisabled:!0,children:(0,r.jsx)(s.A,{...p,title:p.title||C,children:A})});return(0,r.jsx)(r.Fragment,{children:A})}},60866:function(e,n,t){t.d(n,{T:()=>u});var r=t(838e3),l=t(740565),i=t(496411),o=t(554692),s=t(641486),a=t.n(s),c=t(161178),d=t(689368);function u(e){var n;let t,s,u,{projectId:m=(0,i.MJ)()||0,hiddenToGuest:p,children:v,tooltipProps:h={},...x}=e,{isPublicGuest:f}=(n=m,t=((0,d.Ay)(e=>e.project.projectMap)||{})[n]||{},s="public"===t.visibility,u=t.roleType===c._I.Guest,{isPublicGuest:s&&u}),y=a().Children.map(v,e=>a().isValidElement(e)?a().cloneElement(e,{...e.props,eventKey:x.eventKey,value:(null==x?void 0:x.value)||e.props.value,onChange:(null==x?void 0:x.onChange)||e.props.onChange,onMouseEnter:(null==x?void 0:x.onMouseEnter)||e.props.onMouseEnter,onMouseLeave:(null==x?void 0:x.onMouseLeave)||e.props.onMouseLeave,onFocus:(null==x?void 0:x.onFocus)||e.props.onFocus,onClick:(null==x?void 0:x.onClick)||e.props.onClick,onBlur:(null==x?void 0:x.onBlur)||e.props.onBlur}):e);return p&&f?(0,r.jsx)(r.Fragment,{}):f?(0,r.jsx)(o.A,{...h,title:(0,l.hw)({id:"project.public.noPermission"}),children:y}):(0,r.jsx)(r.Fragment,{children:y})}},417486:function(e,n,t){t.d(n,{S:()=>function e(n,t){var r;if(!o().isValidElement(n))return n;if(r=n,(0,i.isValidElement)(r)&&"function"==typeof r.type&&(r.type===d.b||r.type===u.C||r.type===m.T))return o().cloneElement(n,{...n.props,children:n.props.children?e(n.props.children,t):n.props.children});let{wrapperDisabledStyle:p,...v}=t,h=l()(n.props.className,{[s]:p.disabledColor,[c]:p.noPointerEvents,[a]:p.notAllowCursor});return o().cloneElement(n,{...n.props,className:h,...v})}});var r=t(838487),l=t.n(r),i=t(641486),o=t.n(i);let s="disableColor-I7AwiB",a="notAllowCursor-mBYVgz",c="noPointerEvents-SqZGk3";var d=t(160148),u=t(125199),m=t(60866)},135400:function(e,n,t){t.d(n,{Ay:()=>c,Qm:()=>s,x1:()=>a});var r=t(121595),l=t(641486),i=t.n(l);let o=(0,l.createContext)({}),s=(0,r.sH)(()=>({})),a=e=>((0,l.useEffect)(()=>{s.setState(e.value)},[e.value]),i().createElement(o.Provider,e)),c=o},867960:function(e,n,t){t.d(n,{r:()=>a});var r=t(169508),l=t(740565),i=t(929463),o=t(959585),s=t.n(o);function a(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{errorMsg:(0,l.hw)({id:"overView.failToCopied"}),successMsg:(0,l.hw)({id:"overView.isCopied"})};if(!e)return;let t=null;try{if(r.xl){let{clipboard:n}=window.require("electron");n.writeText(e),t=!0}}catch(e){console.log(e)}null===t&&(t=s()(e)),t?n&&n.successMsg?i.Ay.success(n.successMsg):"function"==typeof(null==n?void 0:n.onSuccess)&&(null==n||n.onSuccess()):n&&n.errorMsg&&i.Ay.error(n.errorMsg)}},185264:function(e,n,t){t.d(n,{o:()=>u});var r=t(838e3),l=t(49015),i=t(169508),o=t(740565),s=t(838487),a=t.n(s),c=t(764007),d=t(689368);let u=e=>{let n=(0,d.DA)(e=>e.externalURL);c.Ay.error({title:(0,o.hw)({id:"environment.dataPhasing.error"}),width:400,closable:!0,maskClosable:!0,icon:(0,r.jsx)(r.Fragment,{}),okButtonProps:{style:{display:"none"}},content:(0,r.jsxs)("div",{className:a()("rich-text"),children:[(0,r.jsxs)("div",{className:"flex flex-col px-3 py-2 text-color",style:{backgroundColor:"var(--ui-alert-error-bg-color)",borderRadius:10,marginBottom:20},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-weight-base",children:[i.JB," ",(0,o.hw)({id:"version"}),":"]}),(0,r.jsx)("span",{className:"font-weight-400 ml-2",children:i.CU})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-weight-base",children:[(0,o.hw)({id:"error"}),":"]}),(0,r.jsx)("span",{className:"font-weight-400 ml-2",children:e})]})]}),"CN"===i.Gi?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,o.hw)({id:"environment.errorHelpTips"})}}),(0,r.jsx)(l.Z,{alt:(0,o.hw)({id:"usageHelp.WeChatQrCodeAlt"}),src:n.assets.contactWechatPng,backupSrc:n.assets.contactWechatPng,style:{width:240},description:(0,o.hw)({id:"usageHelp.WeChatGroup"}),descriptionStyle:{paddingBlock:8,fontSize:"var(--font-size-base"}})]}):(0,r.jsxs)("span",{children:["Please contact us at ",(0,r.jsx)("a",{href:`mailto:${i.Rm}`,children:"support@apidog.com"})]})]})})}},359946:function(e,n,t){function r(e,n){let t=new FileReader;t.onload=async e=>{n(e&&e.target&&e.target.result?e.target.result:void 0)},t.readAsText(e)}function l(e,n){let t=new FileReader;t.onload=async e=>{var t;let r;(null==e||null==(t=e.target)?void 0:t.result)&&(r=new Uint8Array(e.target.result)),n(r)},t.readAsArrayBuffer(e)}t.d(n,{Q:()=>r,g:()=>l})},159747:function(e,n,t){t.d(n,{C8:()=>r});let r=["mock","cloudMock","SELF_HOSTED_MOCK"]},941401:function(e,n,t){t.d(n,{O:()=>y});var r=t(838e3),l=t(140049),i=t(838487),o=t.n(i),s=t(115864),a=t(876591),c=t(398380),d=t(641486),u=t.n(d);let m=e=>{let n=window.getSelection(),t=document.createRange();t.selectNodeContents(e),null==n||n.removeAllRanges(),null==n||n.addRange(t)},p=/(\f|\n|\r|\t|\v)?/g,v=RegExp(String.fromCharCode(160),"g"),h=e=>e.replace(p,"").replace(v," "),x=e=>{var n;return h(null!=(n=e.textContent)?n:"")},f=(e,n)=>{x(n)!==h(e)&&(n.textContent=h(e))},y=u().forwardRef((e,n)=>{var t;let{wrapperClassName:i,wrapperStyle:p,prefixCls:v,size:h,disabled:y,value:g,onChange:j,className:C,readOnly:A,onFocus:w,onBlur:b,revertOnEmptyValue:E,placeholder:N,autoFocus:k,showBlurUnderline:S,showTitle:F,...M}=e,{getPrefixCls:I,direction:P}=(0,d.useContext)(s.QO),T=I("input",v),V=u().useContext(a.A),B=h||V,D=(0,d.useRef)(null),L=(0,d.useRef)(null),[R,_]=(0,d.useState)(()=>!!N&&!g),H=(0,d.useCallback)(e=>{let n=e;D.current&&n&&(n=D.current),n&&_(!!N&&!x(n))},[N]);(0,d.useEffect)(()=>{_(!!N&&!g)},[N,g]),(0,d.useLayoutEffect)(()=>{if(D.current&&L.current){let e=window.getComputedStyle(D.current);L.current.style.fontSize=e.fontSize,L.current.style.fontFamily=e.fontFamily,L.current.style.fontWeight=e.fontWeight,L.current.style.fontStyle=e.fontStyle,L.current.style.letterSpacing=e.letterSpacing,L.current.style.textTransform=e.textTransform}},[]);let[z,G]=(0,d.useState)(0);(0,d.useLayoutEffect)(()=>{if(R&&L.current){var e;G(null!=(e=window.getComputedStyle(L.current).width)?e:0)}},[R]);let U=(0,l.A)(e=>{g!==e&&(null==j||j(e))}),W=(0,d.useRef)(null!=g?g:"");W.current=null!=g?g:"",(0,d.useLayoutEffect)(()=>{let e=D.current;e&&(W.current=null!=g?g:"",f(W.current,e))},[g]);let K=(0,d.useCallback)(e=>{let n=x(e);E&&""===n?f(W.current,e):(W.current=n,f(W.current,e),U(n)),H(e)},[U,H,E]),O=(0,l.A)(e=>{let n=e.currentTarget;if(window.navigator.userAgent.includes("Macintosh")){if(e.metaKey&&65===e.keyCode)return m(n),!0}else if(e.ctrlKey&&65===e.keyCode)return m(n),!0;return!1}),$=(0,l.A)(e=>{if(13===e.keyCode&&e.currentTarget instanceof HTMLDivElement){let n;n=window.getSelection(),null==n||n.removeAllRanges(),K(e.currentTarget)}}),Q=(0,l.A)(e=>{O(e)||$(e)}),J=(0,l.A)(e=>{H(e.currentTarget)}),[Z,q]=(0,d.useState)(null!=k&&k),X=(0,l.A)(e=>{H(e.currentTarget),null==w||w(e),e.currentTarget.addEventListener("keydown",Q),e.currentTarget.addEventListener("input",J),q(!0)}),Y=(0,l.A)(e=>{let n=x(e);E&&""===n||(W.current=n,U(n),f(n,e)),H(e)}),ee=(0,l.A)(e=>{e.currentTarget.removeEventListener("keydown",Q),e.currentTarget.removeEventListener("input",J),null==b||b(e),K(e.currentTarget),q(!1)});return(0,d.useLayoutEffect)(()=>{if(D.current&&k){var e;let n,t;D.current.focus(),D.current.autofocus=!0;e=D.current,n=window.getSelection(),t=document.createRange(),t.selectNodeContents(e),null==n||n.removeAllRanges(),null==n||n.addRange(t),x(e).length&&(t.setStart(e,1),t.setEnd(e,1))}},[k]),(0,r.jsxs)("div",{className:o()("auto-width-input-container",S&&"auto-width-input-container-underline",Z&&"auto-width-input-container--focused",i),style:p,children:[(0,r.jsx)("div",{ref:(t=[D,n],e=>{t.forEach(n=>{"function"==typeof n?n(e):null!=n&&(n.current=e)})}),...M,title:F?g:void 0,suppressContentEditableWarning:!0,contentEditable:!(y||A),onBlur:ee,onFocus:X,className:o()({[`${T}-sm`]:"small"===B,[`${T}-lg`]:"large"===B,[`${T}-rtl`]:"rtl"===P,[`${T}-borderless`]:!0,[`${T}-disabled`]:y},C,T,"ui-app-input__underline"),style:R?{...M.style,width:z}:{...M.style,minWidth:z},onInput:e=>{var n;null==(n=M.onInput)||n.call(M,e),Y(e.target)}}),R?(0,r.jsx)("div",{ref:L,className:"ui-app-input__underline__placeholder",style:(0,c.pick)(M.style,["--autoWidthInput-fontSize"]),children:N}):null]})});y.displayName="AppUnderLineInput"}}]);