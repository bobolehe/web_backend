"use strict";(self.webpackChunkapifox_renderer=self.webpackChunkapifox_renderer||[]).push([["29313"],{564811:function(e,t,n){n.d(t,{W:()=>x});var i=n(838e3),s=n(169508),r=n(740565),o=n(687121),l=n(689368),a=n(471504),c=n(838487),u=n.n(c),d=n(554692),p=n(808306),m=n(671466),h=n(907651);let x=e=>{let{className:t="",style:n,placement:c,size:x=20,offset:f=[-5,16],badgeCountSize:g=10,badgeCountBorderSize:y=1.5}=e,A=(0,l.Ay)(e=>e.externalURL);return s.YX?(0,i.jsx)(d.A,{placement:c,title:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:[(0,r.hw)({id:"login.currentlyDataStoreInEurope"},{appName:s.aV}),(0,i.jsx)(h.e,{space:!0,url:A.help.europeUserGuide})]}),(0,i.jsx)("div",{style:{color:"var(--ui-text-color-secondary)",fontWeight:400},children:(0,r.hw)({id:"login.dataCenterRegionNote"},{appName:s.aV})})]}),children:(0,i.jsxs)("div",{className:u()("p-4 flex items-center w-full",t),style:n,children:[(0,i.jsx)(p.A,{count:(0,i.jsx)(m.A,{style:{borderRadius:"99px",border:`${y}px solid var(--ui-component-navigation-bg)`,marginRight:0},type:"icon-eu",size:g}),offset:f,children:(0,i.jsx)(a.Hl,{className:"rounded-full",contentRender:o.nF.bind(null,{width:x,height:x})})}),(0,i.jsx)("span",{className:"ml-2",style:{color:"var(--ui-text-color-secondary)"},children:s.JB})]})}):null}},907651:function(e,t,n){n.d(t,{e:()=>c});var i=n(838e3),s=n(169508),r=n(740565),o=n(483482),l=n(618487);let a=["zh-CN"],c=e=>{let{className:t="",children:n,space:c,url:u,onClick:d}=e,{formatMessage:p,locale:m}=(0,r.tz)(),{dynamicConfig:{apiBaseUrl:h}}=(0,l.useModel)("clientConfig",e=>{let{dynamicConfig:t}=e;return{dynamicConfig:t}}),x=s.f3?`${h}/help`:u;return(0,i.jsxs)(i.Fragment,{children:[c&&!a.includes(m)&&" ",(0,i.jsx)("a",{className:t,onClick:()=>{(0,o.kK)(x),null==d||d()},children:n||p({id:"learnMore"})})]})}},810040:function(e,t,n){n.d(t,{A:()=>P});var i=n(838e3),s=n(564811),r=n(169508),o=n(740565),l=n(387752),a=n(966117),c=n(636758),u=n(766e3);n(276129);var d=n(689368),p=n(11868),m=n(356738),h=n(471504),x=n(722238),f=n(140049),g=n(838487),y=n.n(g),A=n(452267),j=n(554692),w=n(764007),k=n(364099),v=n(671466),b=n(641486),z=n(618487),C=n(776586),M=n(156390);let N=(0,z.dynamic)({loading:()=>(0,i.jsx)(M.A,{}),loader:async()=>{let{default:e}=await Promise.all([n.e("98162"),n.e("5743"),n.e("10105"),n.e("78031"),n.e("77894"),n.e("95934"),n.e("15063"),n.e("6126"),n.e("74167"),n.e("84006"),n.e("31058"),n.e("18460"),n.e("9995")]).then(n.bind(n,857478));return e}}),T={menuWrapper:"menuWrapper-Vj7dMA",bottom:"bottom-BXLI7b","ui-menu-title-content-wrapper":"ui-menu-title-content-wrapper-fzoiR0",uiMenuTitleContentWrapper:"ui-menu-title-content-wrapper-fzoiR0",modalWrapper:"modalWrapper-zrJnS8"},{Item:S,ItemGroup:W}=A.A,R={base:(0,i.jsx)(v.A,{type:"icon-user1",size:16}),binding:(0,i.jsx)(v.A,{type:"icon-data-model",size:16}),apiToken:(0,i.jsx)(v.A,{type:"icon-key",size:16}),referralAndCredit:(0,i.jsx)(v.A,{type:"icon-gift",size:16}),notification:(0,i.jsx)(v.A,{type:"icon-bell-o",size:16})},B=(0,b.createContext)({}),E=e=>{let{visible:t,onCancel:n,options:g}=e,{defaultMenu:M}=g||{},E=(0,p.dn)(),F=(0,C.FB)(e=>e.hasNewVersion),V=!!(0,d.Ay)(e=>{let{login:t}=e;return t.success},(e,t)=>e!==t),[I,P]=(0,b.useState)(M||"theme"),K=(0,f.A)(e=>{(0,l.rT)({...g,...e})}),O=(0,d.Ay)(e=>{let{user:t}=e;return t.currentUser}),{dynamicConfig:{isUseLdap:$}}=(0,z.useModel)("clientConfig",e=>{let{dynamicConfig:t}=e;return{dynamicConfig:t}}),L=(0,b.useMemo)(()=>({base:(0,o.hw)({id:"account-settings.menuMap.basic",defaultMessage:"My Account"}),binding:(0,o.hw)({id:"account-settings.menuMap.binding",defaultMessage:"Account Binding"}),apiToken:{outer:(0,o.hw)({id:"account-settings.menuMap.apiAccessToken"}),inner:(0,o.hw)({id:"account-settings.menuMap.personalAccessToken",defaultMessage:"Personal Access Token"})},referralAndCredit:(0,o.hw)({id:"account-settings.menuMap.referralAndCredit"}),notification:(0,o.hw)({id:"notifications"})}),[]),G=(0,b.useMemo)(()=>Object.keys(L).filter(e=>("binding"!==e||!$)&&("referralAndCredit"!==e||r.pF)).map(e=>{let t;return{key:e,icon:R[e],title:"string"==typeof(t=L[e])?t:t.outer}}),[L,$]),H=(0,b.useMemo)(()=>[{key:"theme",title:(0,o.hw)({id:"app.setting.menu.theme"}),icon:(0,i.jsx)(v.A,{type:"icon-operate-theme",size:16})},{key:"languageAndRegion",title:(0,o.hw)({id:"app.setting.menu.languageAndRegion"}),icon:(0,i.jsx)(v.A,{type:"icon-translate-01",size:16})},{key:"general",title:(0,o.hw)({id:"app.setting.menu.general"}),icon:(0,i.jsx)(v.A,{type:"icon-button-settings",size:16})},{key:"hotkeys",title:(0,o.hw)({id:"app.setting.menu.shortcuts"}),icon:(0,i.jsx)(v.A,{type:"icon-Keyboard",size:16})},{key:"cert",title:(0,o.hw)({id:"app.setting.menu.cert"}),icon:(0,i.jsx)(v.A,{type:"icon-features-certificate",size:16})},{key:"proxy",title:(0,o.hw)({id:"app.setting.menu.proxy"}),icon:(0,i.jsx)(v.A,{type:"icon-net-proxy",size:16}),visible:r.xl},{key:"extensions",title:(0,o.hw)({id:"app.setting.menu.extensions"}),icon:(0,i.jsx)(v.A,{type:"icon-features-plug-in"})},{key:"externalPrograms",title:(0,o.hw)({id:"app.setting.menu.externalPrograms"}),icon:(0,i.jsx)(v.A,{type:"icon-features-external-program",size:16})},{key:"experimental",menuText:(0,o.hw)({id:"app.setting.menu.experimental"}),title:(0,o.hw)({id:"app.setting.menu.experimental.title"}),icon:(0,i.jsx)(m.A,{size:16})},{key:"License",title:(0,o.hw)({id:r.T0?"server":"app.setting.menu.license"}),icon:(0,i.jsx)(v.A,{type:"icon-operate-notice",size:16}),visible:!!E},{key:"version",title:(0,o.hw)({id:"app.setting.menu.about"},{name:r.JB}),icon:(0,i.jsx)(v.A,{type:"icon-operate-notice",size:16}),rightIcon:r.xl&&F&&(0,i.jsx)(j.A,{placement:"top",title:(0,o.hw)({id:"app.setting.menu.about.version.foundANewVersion"}),children:(0,i.jsx)(v.A,{type:"icon-update",className:"primary-color-green",size:16})})}].filter(Boolean),[F,E]),J=(0,f.A)(()=>{w.Ay.confirm({title:(0,o.hw)({id:"app.settings.logoutConfirm"}),icon:(0,i.jsx)(v.A,{type:"icon-warning-solid"}),onOk:()=>{(0,a.Fm)(),(0,l.$G)(),(0,c.z0)()}})}),U=(0,b.useMemo)(()=>{let e=[{key:"preferences",title:(0,o.hw)({id:"app.settings.preferences"}),items:H}];return V&&e.unshift({key:"accountSettings",title:(0,o.hw)({id:"account"}),items:G}),e},[G,H,V]),X=(0,f.A)(e=>{P(e),U.forEach(t=>{t.items?t.items.forEach(t=>{t.key===e&&K({title:t.title})}):t.key===e&&K({title:t.title})})}),_=(0,f.A)(e=>{X(e)}),D=(0,f.A)(e=>{var t;return(0,i.jsx)(S,{icon:e.icon,className:y()("flex items-center w-full",T["ui-menu-title-content-wrapper"]),children:(0,i.jsxs)(k.A,{className:y()("w-full justify-between items-center"),children:[null!=(t=e.menuText)?t:e.title,e.rightIcon]})},e.key)}),Y=(0,b.useMemo)(()=>U.reduce((e,t)=>{if(!1===t.visible)return e;if(t.items){var n;e.push((0,i.jsx)(W,{title:(0,i.jsx)("span",{className:"uppercase",children:null!=(n=t.menuText)?n:t.title}),children:t.items.filter(e=>!1!==e.visible).map(e=>D(e))},t.key))}else e.push(D(t));return e},[]),[D,U]);return(0,b.useEffect)(()=>{void 0===O&&(0,u.x4)()},[O]),(0,b.useEffect)(()=>{X(I)},[X,I]),(0,i.jsx)(h.R8,{wrapClassName:T.modalWrapper,title:null,hotkeyEnsureScope:"settingsModal",onCancel:n,size:960,siderWidth:240,height:960,open:t,sider:(0,i.jsxs)("div",{className:"flex flex-col h-full pt-5",children:[(0,i.jsxs)("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[(0,i.jsx)(A.A,{mode:"vertical",selectedKeys:[I],onClick:e=>{let{key:t}=e;return P(t)},className:T.menuWrapper,children:Y}),(0,i.jsx)(s.W,{size:24,badgeCountSize:12,badgeCountBorderSize:2,offset:[-6,18],className:"mt-auto px-6"})]}),V&&(0,i.jsx)(A.A,{mode:"vertical",className:y()(T.menuWrapper,T.bottom),selectedKeys:[],children:(0,i.jsx)(A.A.Item,{onClick:()=>J(),className:T.logoutItem,icon:(0,i.jsx)(v.A,{type:"icon-export-021",size:16}),children:(0,o.hw)({id:"menu.account.logout"})},"logout")})]}),contentTitle:null==g?void 0:g.title,footer:null,destroyOnClose:!0,children:(0,i.jsx)(x.Vs,{children:(0,i.jsx)(B.Provider,{value:{setSelectedMenu:_},children:(0,i.jsx)("div",{className:"w-full",children:(0,i.jsx)(N,{selectKey:I,onClose:n})})})})})};var F=n(73586),V=n(803101),I=n(129271);let P=(0,z.connect)(e=>{let{global:t}=e;return{visible:t.settingVisible,options:t.settingOptions}})(e=>{let{visible:t,options:n}=e,{setFontSize:s}=(0,z.useModel)("fontSize"),{handleAppReload:r}=(0,V.c)();return((0,b.useEffect)(()=>(F.gc.on("ThemeSetting.ChangeFontSize",(e,t)=>{s(100*t)}),()=>{F.gc.removeAllListeners("ThemeSetting.ChangeFontSize")}),[]),t)?(0,i.jsx)(E,{visible:t,onCancel:l.$G,options:n}):(0,i.jsx)(I.A,{actions:["openSetting","openHotkeySetting","refresh"],handler:e=>{switch(e){case"openSetting":(0,l.zT)();break;case"openHotkeySetting":(0,l.zT)({defaultMenu:"hotkeys"});break;case"refresh":r()}}})})},803101:function(e,t,n){n.d(t,{c:()=>c});var i=n(169508),s=n(987016),r=n(764007),o=n(740565),l=n(140049);let a=/\/project\/\d+/,c=e=>{let t=(0,s.jd)(e=>e.isModifying);return{handleAppReload:(0,l.A)(async()=>{if(i.xl&&t&&!await new Promise(e=>{r.Ay.confirm({title:(0,o.hw)({id:"refreshConfirmTitle"}),content:(0,o.hw)({id:"refreshConfirmContent"}),onOk:()=>{e(!0)},onCancel:()=>e(!1)})}))return;null==e||e();let n=window.location.href;a.test(n)&&i.xl&&(window.location.href=n.replace(/(\/project\/\d+).*/,"$1")),window.location.reload()})}}},156390:function(e,t,n){n.d(t,{A:()=>o});var i=n(838e3),s=n(138791),r=n(272632);let o=e=>{let{className:t}=e;return(0,i.jsx)("div",{...e,className:(0,r.A)(t,"flex p-12 items-center justify-center"),children:(0,i.jsx)(s.A,{active:!0})})}}}]);