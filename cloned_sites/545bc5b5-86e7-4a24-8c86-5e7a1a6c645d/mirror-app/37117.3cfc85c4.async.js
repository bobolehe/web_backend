"use strict";(self.webpackChunkapifox_renderer=self.webpackChunkapifox_renderer||[]).push([["37117"],{11425:function(e,i,n){n.d(i,{A:()=>r});var a=n(838e3),t=n(258410),s=n(810040),l=n(617393);let r=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.A,{}),(0,a.jsx)(l.A,{}),(0,a.jsx)(s.A,{})]})},727275:function(e,i,n){n.d(i,{A:()=>m});var a=n(838e3),t=n(169508),s=n(483482),l=n(689368),r=n(718180),o=n(458184),d=n(618487);let c={changelog:e=>{var i;return null==e||null==(i=e.help)?void 0:i.changelog}},h={index:"/"};function m(e){let{type:i,children:n,link:m="index",documentKey:u,onClick:x,...g}=e,{externalURL:p}=(0,l.Ay)(e=>{let{externalURL:i}=e;return{externalURL:i}}),{dynamicConfig:{apiBaseUrl:f},load:j}=(0,d.useModel)("clientConfig",e=>{let{dynamicConfig:i,load:n}=e;return{dynamicConfig:i,load:n}});function A(){let e=m;if(u&&(e=c[u](p)),null==e?void 0:e.includes("http"))return void(0,s.kK)(e);let i=`${t.f3?`${f}/help`:p.help.index}`;e=h[m]||m,(0,s.kK)(`${i}${e}`),x&&x()}return((0,r.A)(()=>{t.f3&&j()}),"button"===i)?(0,a.jsx)(o.A,{onClick:A,...g,children:n}):(0,a.jsx)("a",{onClick:A,...g,children:n})}},913502:function(e,i,n){n.d(i,{k:()=>h});var a=n(838e3),t=n(772863),s=n(438066),l=n(169508),r=n(849217),o=n(806276),d=n(589342),c=n(740565);function h(){return l.HZ?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Ii,{}),(0,a.jsx)("div",{className:d.A.webTitleBar,children:(0,a.jsx)(t.A,{children:(0,a.jsx)("div",{className:"h-full flex-1",children:(0,a.jsx)(o.A,{children:(0,a.jsxs)(o.A.Item,{children:[(0,a.jsx)(r.A,{className:"mr-1"}),(0,c.hw)({id:"menu.home"})]})})})})})]}):(0,a.jsx)(s.Ii,{})}},913612:function(e,i,n){n.d(i,{A:()=>O});var a=n(838e3);n(161178);var t=n(740565),s=n(224666),l=n(689368),r=n(698879),o=n(667754),d=n(272164),c=n(838487),h=n.n(c),m=n(929463),u=n(458184),x=n(764007),g=n(255529),p=n(820182),f=n(69934),j=n(138249),A=n(671466),v=n(641486),y=n(618487);let z="modal-QIYbvm",w="initial-team-label-d8QVWX",b="initial-team-select-hidden-Dfzu3Y",k="title-Hnxr6V",N="content-Matuan",C="initial-team-tips-KkqTLC",O=e=>{let{block:i=!0,type:n}=e,[c,O]=(0,v.useState)(!1),[$,I]=(0,v.useState)(!1),T=(0,r.A)({visible:c,delay:300}),{teams:F}=(0,l.Ay)(e=>{var i;let{team:n}=e;return{teams:null==(i=n.userTeams)?void 0:i.filter(e=>!e.organizationId&&1===e.roleType)}}),{run:B}=(0,o.ZO)(s.vt,async e=>{(0,y.dispatchFetchUserTeams)(),(0,y.dispatchFetchUserOrganizations)(()=>{y.history.push(`/main/settings/organizations/${e.id}/settings`)}),O(!1),m.Ay.success((0,t.hw)({id:"message.createdSuccess"}),1)},e=>m.Ay.error(null==e?void 0:e.errorMessage),{isReturnAll:!0}),{run:M}=(0,d.A)(async e=>{await B(e)},{wait:200,leading:!0,trailing:!1});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{block:i,type:n,icon:(0,a.jsx)(A.A,{type:"icon-plus"}),onClick:()=>O(!0),children:(0,a.jsx)("span",{children:(0,t.hw)({id:"organization.button.new"})})}),(0,a.jsxs)(x.Ay,{className:z,open:c,onCancel:()=>O(!1),footer:null,destroyOnClose:!0,children:[(0,a.jsx)("div",{className:k,children:(0,t.hw)({id:"organization.new-organization.modal.title"})}),(0,a.jsxs)(g.A,{layout:"vertical",onFinish:M,children:[(0,a.jsxs)("div",{className:N,children:[(0,a.jsx)(g.A.Item,{name:"displayName",label:(0,t.hw)({id:"organization.new-organization.form-item.display-name.label"}),rules:[{required:!0}],children:(0,a.jsx)(p.A,{ref:T,placeholder:(0,t.hw)({id:"organization.new-organization.form-item.display-name.placeholder"})})}),(0,a.jsxs)("div",{className:h()(w,{[b]:!$}),children:[(0,a.jsx)("span",{children:(0,t.hw)({id:"organization.new-organization.form-item.initial-team.label"})}),(0,a.jsx)(f.A,{size:"small",checked:$,onChange:I})]}),$&&(0,a.jsxs)(g.A.Item,{children:[(0,a.jsx)(g.A.Item,{noStyle:!0,name:"initialTeamId",children:(0,a.jsx)(j.A,{allowClear:!0,placeholder:(0,t.hw)({id:"organization.new-organization.form-item.team.placeholder"}),children:null==F?void 0:F.map(e=>(0,a.jsx)(j.A.Option,{value:e.id,children:e.name},e.id))})}),(0,a.jsx)("div",{className:C,children:(0,t.hw)({id:"organization.new-organization.form-item.team.tip"})})]})]}),(0,a.jsx)(u.A,{block:!0,htmlType:"submit",type:"primary",children:(0,t.hw)({id:"organization.new-organization.modal.submit-button"})})]})]})]})}},565950:function(e,i,n){n.d(i,{A:()=>d});var a=n(838e3),t=n(740565),s=n(458184),l=n(671466),r=n(618487),o=n(184789);let d=()=>{let e=(0,o.A)();return(0,a.jsx)(s.A,{block:!0,type:"text",icon:(0,a.jsx)(l.A,{type:"icon-left-md"}),onClick:()=>{e?r.history.push(`/main/organizations/${e}`):r.history.push("/main")},style:{justifyContent:"flex-start"},children:(0,t.hw)({id:"organization.page.title"})})}},27505:function(e,i,n){n.d(i,{A:()=>r});var a=n(838e3),t=n(671466);let s="icon-container-QipaHN",l="icon-content-mj4UJL",r=()=>(0,a.jsx)("div",{className:s,children:(0,a.jsx)("div",{className:l,children:(0,a.jsx)(t.A,{type:"icon-building2",size:32})})})},238590:function(e,i,n){n.r(i),n.d(i,{default:()=>O,hasOrganizationPermission:()=>C});var a=n(838e3),t=n(139870),s=n(765787),l=n(71527),r=n(184789),o=n(689368),d=n(794397),c=n(641486),h=n(618487),m=n(11425),u=n(913502),x=n(169508),g=n(740565),p=n(838487),f=n.n(p),j=n(913612),A=n(565950),v=n(27505);let y="page-hoZEUX",z="container-EwXVwP",w="nav-back-f8kFd2",b="content-s01PTb",k="description-YldjxO",N=()=>(0,a.jsxs)("div",{className:f()(y,"w-screen h-full pb-2 flex flex-col"),children:[x.HZ&&(0,a.jsx)(u.k,{}),(0,a.jsxs)("div",{className:f()(z,"mx-2 flex-1 flex flex-col overflow-hidden"),children:[(0,a.jsx)("div",{className:w,children:(0,a.jsx)(A.A,{})}),(0,a.jsx)("div",{className:"flex-1 relative",children:(0,a.jsxs)("div",{className:b,children:[(0,a.jsx)(v.A,{}),(0,a.jsx)("div",{className:f()(k,"text-base my-2"),children:(0,g.hw)({id:"organization.page.text.empty-content"})}),(0,a.jsx)(j.A,{block:!1,type:"primary"})]})})]}),(0,a.jsx)(m.A,{})]});function C(e,i){var n;return e.id===i&&(!!e.isBillingManager||[1,2].includes(null!=(n=e.roleType)?n:0))}let O=e=>{let i=(0,r.A)(),n=(0,h.useLocation)(),{userOrganizations:m}=(0,o.Ay)(e=>{let{organization:i}=e;return{userOrganizations:Array.isArray(i.userOrganizations)?i.userOrganizations.filter(e=>C(e,e.id)):i.userOrganizations}}),u=(0,s.f3)(e=>e.fetchSubscriptionByOrganizationId),x=(0,l.$X)(e=>e.fetchOrganizationUsageByOrganizationId);if((0,c.useEffect)(()=>(i&&(u(i),x(i),(0,t.xr)({organizationId:i})),()=>{(0,t.hF)()}),[i]),!i&&m&&m.length>0){let e=m[0];return(0,a.jsx)(h.Redirect,{to:{pathname:`/main/settings/organizations/${null==e?void 0:e.id}/${(null==e?void 0:e.isBillingManager)?"plans":"settings"}`}})}if(!m)return(0,a.jsx)("div",{className:"relative w-full h-full",children:(0,a.jsx)(d.A,{size:"large",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})});if(0===m.length)return(0,a.jsx)(N,{});if((0,h.matchPath)(n.pathname,{path:"/main/settings/organizations/:id",exact:!0})){let e=m.find(e=>e.id===i);return(0,a.jsx)(h.Redirect,{to:{pathname:`/main/settings/organizations/${i}/${(null==e?void 0:e.roleType)===4?"plans":"settings"}`}})}let g=(0,h.matchPath)(n.pathname,{path:"/main/settings/organizations/:id/:key",exact:!1});if(g&&!m.some(e=>C(e,i))){var p;return(0,a.jsx)(h.Redirect,{to:{pathname:`/main/settings/organizations/${m[0].id}/${null!=(p=g.params.key)?p:"settings"}`}})}return e.children}}}]);