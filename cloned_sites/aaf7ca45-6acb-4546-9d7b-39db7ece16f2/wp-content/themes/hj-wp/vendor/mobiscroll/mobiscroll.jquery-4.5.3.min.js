/* eslint-disable */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.mobiscroll=t(e.jQuery)}(this,function(e){"use strict";function t(e,t,a){var s=e;return"object"===("undefined"==typeof t?"undefined":W(t))?e.each(function(){new t.component(this,t)}):("string"==typeof t&&e.each(function(){var e,n=H.instances[this.id];if(n&&n[t]&&(e=n[t].apply(this,Array.prototype.slice.call(a,1)),void 0!==e))return s=e,!1}),s)}function a(e,a,s){I[e]=function(n){return t(this,$(n,{component:a,preset:s===!1?void 0:e}),arguments)}}function s(){}function n(e){var t,a=[];for(t in e)a.push(e[t]);return a}function i(e){return e-parseFloat(e)>=0}function r(e){return"string"==typeof e}function o(e,t,a){return Math.max(t,Math.min(e,a))}function l(e,t){for(e+="",t=t||2;e.length<t;)e="0"+e;return e}function c(e){"vibrate"in navigator&&navigator.vibrate(e||50)}function d(){J++,setTimeout(function(){J--},500)}function u(e,t,a){var s=e.originalEvent||e,n=(a?"page":"client")+t;return s.targetTouches&&s.targetTouches[0]?s.targetTouches[0][n]:s.changedTouches&&s.changedTouches[0]?s.changedTouches[0][n]:e[n]}function m(e,t,a,s,n,i){function r(e){h||(s&&e.preventDefault(),h=this,m=u(e,"X"),f=u(e,"Y"),b=!1,v=new Date)}function o(e){h&&!b&&(Math.abs(u(e,"X")-m)>n||Math.abs(u(e,"Y")-f)>n)&&(b=!0)}function l(t){h&&((i&&new Date-v<100||!b)&&(t.preventDefault(),a.call(h,t,e)),h=!1,d())}function c(){h=!1}var m,f,h,b,v,p=H.$,g=p(t);n=n||9,e.settings.tap&&g.on("touchstart.mbsc",r).on("touchcancel.mbsc",c).on("touchmove.mbsc",o).on("touchend.mbsc",l),g.on("click.mbsc",function(t){s&&t.preventDefault(),a.call(this,t,e)})}function f(e){if(J&&!Z&&!e.isMbscTap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function h(e,t,a,s,n,i,r){var o=new Date(e,t,a,s||0,n||0,i||0,r||0);return 23==o.getHours()&&0===(s||0)&&o.setHours(o.getHours()+2),o}function b(e,t,a){if(!t)return null;var s,n,i=ne({},de,a),r=function(t){for(var a=0;s+1<e.length&&e.charAt(s+1)==t;)a++,s++;return a},o=function(e,t,a){var s=""+t;if(r(e))for(;s.length<a;)s="0"+s;return s},l=function(e,t,a,s){return r(e)?s[t]:a[t]},c="",d=!1;for(s=0;s<e.length;s++)if(d)"'"!=e.charAt(s)||r("'")?c+=e.charAt(s):d=!1;else switch(e.charAt(s)){case"d":c+=o("d",i.getDay(t),2);break;case"D":c+=l("D",t.getDay(),i.dayNamesShort,i.dayNames);break;case"o":c+=o("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=o("m",i.getMonth(t)+1,2);break;case"M":c+=l("M",i.getMonth(t),i.monthNamesShort,i.monthNames);break;case"y":n=i.getYear(t),c+=r("y")?n:(n%100<10?"0":"")+n%100;break;case"h":var u=t.getHours();c+=o("h",u>12?u-12:0===u?12:u,2);break;case"H":c+=o("H",t.getHours(),2);break;case"i":c+=o("i",t.getMinutes(),2);break;case"s":c+=o("s",t.getSeconds(),2);break;case"a":c+=t.getHours()>11?i.pmText:i.amText;break;case"A":c+=t.getHours()>11?i.pmText.toUpperCase():i.amText.toUpperCase();break;case"'":r("'")?c+="'":d=!0;break;default:c+=e.charAt(s)}return c}function v(e,t,a){var s=ne({},de,a),n=x(s.defaultValue||new Date);if(!e||!t)return n;if(t.getTime)return t;t="object"==("undefined"==typeof t?"undefined":W(t))?t.toString():t+"";var i,r=s.shortYearCutoff,o=s.getYear(n),l=s.getMonth(n)+1,c=s.getDay(n),d=-1,u=n.getHours(),m=n.getMinutes(),f=0,h=-1,b=!1,v=function(t){var a=i+1<e.length&&e.charAt(i+1)==t;return a&&i++,a},p=function(e){v(e);var a="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,s=new RegExp("^\\d{1,"+a+"}"),n=t.substr(_).match(s);return n?(_+=n[0].length,parseInt(n[0],10)):0},g=function(e,a,s){var n,i=v(e)?s:a;for(n=0;n<i.length;n++)if(t.substr(_,i[n].length).toLowerCase()==i[n].toLowerCase())return _+=i[n].length,n+1;return 0},y=function(){_++},_=0;for(i=0;i<e.length;i++)if(b)"'"!=e.charAt(i)||v("'")?y():b=!1;else switch(e.charAt(i)){case"d":c=p("d");break;case"D":g("D",s.dayNamesShort,s.dayNames);break;case"o":d=p("o");break;case"m":l=p("m");break;case"M":l=g("M",s.monthNamesShort,s.monthNames);break;case"y":o=p("y");break;case"H":u=p("H");break;case"h":u=p("h");break;case"i":m=p("i");break;case"s":f=p("s");break;case"a":h=g("a",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"A":h=g("A",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"'":v("'")?y():b=!0;break;default:y()}if(o<100&&(o+=(new Date).getFullYear()-(new Date).getFullYear()%100+(o<=("string"!=typeof r?r:(new Date).getFullYear()%100+parseInt(r,10))?0:-100)),d>-1){l=1,c=d;do{var w=32-new Date(o,l-1,32,12).getDate();c>w&&(l++,c-=w)}while(c>w)}u=h==-1?u:h&&u<12?u+12:h||12!=u?u:0;var D=s.getDate(o,l-1,c,u,m,f);return s.getYear(D)!=o||s.getMonth(D)+1!=l||s.getDay(D)!=c?n:D}function p(e,t){return Math.round((t-e)/864e5)}function g(e){return h(e.getFullYear(),e.getMonth(),e.getDate())}function y(e,t){var a="",s="";return e&&(t.h&&(s+=l(e.getHours())+":"+l(e.getMinutes()),t.s&&(s+=":"+l(e.getSeconds())),t.u&&(s+="."+l(e.getMilliseconds(),3)),t.tz&&(s+=t.tz)),t.y?(a+=e.getFullYear(),t.m&&(a+="-"+l(e.getMonth()+1),t.d&&(a+="-"+l(e.getDate())),t.h&&(a+="T"+s))):t.h&&(a=s)),a}function _(e,t,a){var s,n,i={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(a)for(s in i)n=e[i[s]-t],n&&(a[s]="tz"==s?n:1)}function w(e,t,a){var s=window.moment||t.moment,n=t.returnFormat;if(e){if("moment"==n&&s)return s(e);if("locale"==n)return b(a,e,t);if("iso8601"==n)return y(e,t.isoParts)}return e}function x(e,t,a,s){var n;return e?e.getTime?e:e.toDate?e.toDate():("string"==typeof e&&(e=e.trim()),(n=oe.exec(e))?(_(n,2,s),new Date(1970,0,1,n[2]?+n[2]:0,n[3]?+n[3]:0,n[4]?+n[4]:0,n[5]?+n[5]:0)):(n||(n=re.exec(e)),n?(_(n,0,s),new Date(n[1]?+n[1]:1970,n[2]?n[2]-1:0,n[3]?+n[3]:1,n[4]?+n[4]:0,n[5]?+n[5]:0,n[6]?+n[6]:0,n[7]?+n[7]:0)):v(t,e,a))):null}function D(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}function M(e){var t;for(t in e)if(void 0!==me[e[t]])return!0;return!1}function C(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(M([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}function T(e,t){if("touchstart"==e.type)Q(t).attr("data-touch","1");else if(Q(t).attr("data-touch"))return Q(t).removeAttr("data-touch"),!1;return!0}function k(e,t){var a,s,n=getComputedStyle(e[0]);return Q.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==n[t+"ransform"])return a=n[t+"ransform"],!1}),a=a.split(")")[0].split(", "),s=t?a[13]||a[5]:a[12]||a[4]}function S(e){if(e){if(pe[e])return pe[e];var t=Q('<div style="background-color:'+e+';"></div>').appendTo("body"),a=getComputedStyle(t[0]),s=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),n=.299*s[0]+.587*s[1]+.114*s[2],i=n<130?"#fff":"#000";return t.remove(),pe[e]=i,i}}function V(e,t,a,n,i,r){function o(e){var t;b=Q(this),x=+b.attr("data-step"),p=+b.attr("data-index"),v=!0,i&&e.stopPropagation(),"mousedown"==e.type&&e.preventDefault(),"keydown"!=e.type?(_=u(e,"X"),w=u(e,"Y"),t=T(e,this)):t=32===e.keyCode,g||!t||b.hasClass("mbsc-disabled")||(m(p,x,e)&&(b.addClass("mbsc-active"),r&&r.addRipple(b.find(".mbsc-segmented-content"),e)),"mousedown"==e.type&&Q(document).on("mousemove",l).on("mouseup",c))}function l(e){(Math.abs(_-u(e,"X"))>7||Math.abs(w-u(e,"Y"))>7)&&(v=!0,d())}function c(e){"touchend"==e.type&&e.preventDefault(),d(),"mouseup"==e.type&&Q(document).off("mousemove",l).off("mouseup",c)}function d(){g=!1,clearInterval(D),b&&(b.removeClass("mbsc-active"),r&&setTimeout(function(){r.removeRipple()},100))}function m(e,t,a){return g||M(e)||(p=e,x=t,y=a,g=!0,v=!1,setTimeout(f,100)),g}function f(){return b&&b.hasClass("mbsc-disabled")?void d():(!g&&v||(v=!0,t(p,x,y,f)),void(g&&a&&(clearInterval(D),D=setInterval(function(){t(p,x,y)},a))))}function h(){e.off("touchstart mousedown keydown",o).off("touchmove",l).off("touchend touchcancel keyup",c)}var b,v,p,g,y,_,w,x,D,M=n||s;return e.on("touchstart mousedown keydown",o).on("touchmove",l).on("touchend touchcancel keyup",c),{start:m,stop:d,destroy:h}}function Y(e,t){function a(){o.style.width="100000px",o.style.height="100000px",r.scrollLeft=1e5,r.scrollTop=1e5,d.scrollLeft=1e5,d.scrollTop=1e5}function s(){var e=new Date;l=0,u||(e-m>200&&!r.scrollTop&&!r.scrollLeft&&(m=e,a()),l||(l=B(s)))}function n(){c||(c=B(i))}function i(){c=0,a(),t()}var r=void 0,o=void 0,l=void 0,c=void 0,d=void 0,u=void 0,m=0,f=document.createElement("div");return f.innerHTML=xe,f.dir="ltr",d=f.childNodes[1],r=f.childNodes[0],o=r.childNodes[0],e.appendChild(f),r.addEventListener("scroll",n),d.addEventListener("scroll",n),B(s),{detach:function(){e.removeChild(f),u=!0}}}function A(e){return(e+"").replace('"',"___")}function P(e){return e[0].innerWidth||e.innerWidth()}e=e&&e.hasOwnProperty("default")?e.default:e;var H=H||{},F={},E={},W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$=e.extend,I={};H.$=e,e.mobiscroll=H,e.fn.mobiscroll=function(e){return $(this,I),t(this,e,arguments)};var L,N,O,R,q=[],X="undefined"!=typeof window,z=X?navigator.userAgent:"",U=/Safari/.test(z),j=z.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),B=X&&window.requestAnimationFrame||function(e){return setTimeout(e,20)},G=X&&window.cancelAnimationFrame||function(e){clearTimeout(e)};/Android/i.test(j)?(L="android",N=z.match(/Android\s+([\d\.]+)/i),N&&(q=N[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(j)?(L="ios",N=z.match(/OS\s+([\d\_]+)/i),N&&(q=N[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(j)?L="wp":/Windows|MSIE/i.test(j)&&(L="windows"),O=q[0],R=q[1];var J=0,Z=void 0;X&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,f,!0)}),"android"==L&&O<5&&document.addEventListener("change",function(e){J&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0));var K,Q=H.$,ee=+new Date,te={},ae={},se={xsmall:0,small:576,medium:768,large:992,xlarge:1200},ne=Q.extend;ne(F,{getCoord:u,preventClick:d,vibrate:c}),K=ne(H,{$:Q,version:"4.5.3",autoTheme:"mobiscroll",themes:{form:{},page:{},frame:{},scroller:{},listview:{},navigation:{},progress:{},card:{}},platform:{name:L,majorVersion:O,minorVersion:R},i18n:{},instances:te,classes:ae,util:F,settings:{},setDefaults:function(e){ne(this.settings,e)},customTheme:function(e,t){var a,s=H.themes,n=["frame","scroller","listview","navigation","form","page","progress","card"];for(a=0;a<n.length;a++)s[n[a]][e]=ne({},s[n[a]][t],{baseTheme:t})}});var ie=function(e,t){function a(e){var t,a;return c.responsive&&(a=e||i.offsetWidth,Q.each(c.responsive,function(e,s){a>=(s.breakpoint||se[e])&&(t=s)})),t}function n(){Q(e).addClass("mbsc-comp"),e.id?te[e.id]&&te[e.id].destroy():e.id="mobiscroll"+ ++ee,te[e.id]=b,b.__ready=!0}var i,r,o,l,c,d,u,f,h,b=this;b.settings={},b.element=e,b._init=s,b._destroy=s,b._processSettings=s,b._checkResp=function(e){if(b&&b._responsive){var t=a(e);if(l!==t)return l=t,b.init({}),!0}},b.init=function(s){var n,m;s&&b.getVal&&(m=b.getVal());for(n in b.settings)delete b.settings[n];c=b.settings,ne(t,s),b._hasDef&&(h=K.settings),ne(c,b._defaults,h,t),b._hasTheme&&(u=c.theme,"auto"!=u&&u||(u=K.autoTheme),"default"==u&&(u="mobiscroll"),t.theme=u,d=K.themes[b._class]?K.themes[b._class][u]:{}),b._hasLang&&(r=K.i18n[c.lang]),ne(c,d,r,h,t),i=Q(c.context)[0],b._responsive&&(l||(l=a()),ne(c,l)),b._processSettings(l||{}),b._presets&&(o=b._presets[c.preset],o&&(o=o.call(e,b,t),ne(c,o,t,l))),b._init(s),s&&b.setVal&&b.setVal(m,!0),f("onInit")},b.destroy=function(){b&&(b._destroy(),f("onDestroy"),delete te[e.id],b=null)},b.tap=function(e,t,a,s,n){m(b,e,t,a,s,n)},b.trigger=function(a,s){var n,i,r,l=[h,d,o,t];for(i=0;i<4;i++)r=l[i],r&&r[a]&&(n=r[a].call(e,s||{},b));return n},b.option=function(e,a){var s={},n=["data","invalid","valid","marked","labels","colors","readonly"];"object"===("undefined"==typeof e?"undefined":W(e))?s=e:s[e]=a,n.forEach(function(e){t[e]=c[e]}),b.init(s)},b.getInst=function(){return b},t=t||{},f=b.trigger,b.__ready||n()},re=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?((Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,oe=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,le=/^\d{1,2}(\/\d{1,2})?$/,ce=/^w\d$/i,de={shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:h,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}};F.datetime={formatDate:b,parseDate:v};var ue,me,fe,he,be,ve,pe={};X&&(me=document.createElement("modernizr").style,fe=C(),ve=fe.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),ue=void 0!==me.animation?"animationend":"webkitAnimationEnd",be=void 0!==me.transition,he=void 0===me.touchAction||"ios"==L&&!U);var ge,ye,_e="position:absolute;left:0;top:0;",we=_e+"right:0;bottom:0;overflow:hidden;z-index:-1;",xe='<div style="'+we+'"><div style="'+_e+'"></div></div><div style="'+we+'"><div style="'+_e+'width:200%;height:200%;"></div></div>',De=H.themes,Me=/(iphone|ipod)/i.test(z)&&O>=7,Ce="android"==L,Te="ios"==L,ke=Te&&8==O,Se=Te&&O>7,Ve=function(e){e.preventDefault()},Ye="input,select,textarea,button",Ae='textarea,button,input[type="button"],input[type="submit"]',Pe=Ye+',[tabindex="0"]',He=function(e,t,a){function n(e){A&&A.removeClass("mbsc-active"),A=Q(this),A.hasClass("mbsc-disabled")||A.hasClass("mbsc-fr-btn-nhl")||A.addClass("mbsc-active"),"mousedown"===e.type?Q(document).on("mouseup",i):"pointerdown"===e.type&&Q(document).on("pointerup",i)}function i(e){A&&(A.removeClass("mbsc-active"),A=null),"mouseup"===e.type?Q(document).off("mouseup",i):"pointerup"===e.type&&Q(document).off("pointerup",i)}function l(e){H.activeInstance==ne&&(13!=e.keyCode||Q(e.target).is(Ae)&&!e.shiftKey?27==e.keyCode&&ne.cancel():ne.select())}function c(e){e||Ce||!ne._activeElm||(le=new Date,ne._activeElm.focus())}function m(e){var t=ge,a=G.focusOnClose;ne._markupRemove(),D.remove(),W&&(P.mbscModals--,G.scrollLock&&P.mbscLock--,P.mbscLock||x.removeClass("mbsc-fr-lock"),P.mbscModals||(x.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),q&&(_.css({top:"",left:""}),k.scrollLeft(J),k.scrollTop(K))),P.mbscModals&&!B||e||(t||(t=re),setTimeout(function(){void 0===a||a===!0?(ye=!0,t[0].focus()):a&&Q(a)[0].focus()},200))),B=void 0,$=!1,te("onHide")}function f(){clearTimeout(j),j=setTimeout(function(){ne.position(!0)&&(U.style.visibility="hidden",U.offsetHeight,U.style.visibility="")},200)}function h(e){H.activeInstance==ne&&e.target.nodeType&&!z.contains(e.target)&&new Date-le>100&&(le=new Date,ne._activeElm.focus())}function b(e,t){function a(){D.off(ue,a).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+F).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+F),c(t)}if(W)D.appendTo(_);else if(re.is("div")&&!ne._hasContent)re.empty().append(D);else if(re.hasClass("mbsc-control")){var s=re.closest(".mbsc-control-w");D.insertAfter(s),s.hasClass("mbsc-select")&&s.addClass("mbsc-select-inline")}else D.insertAfter(re);$=!0,ne._markupInserted(D),te("onMarkupInserted",{target:L}),D.on("mousedown",".mbsc-btn-e,.mbsc-fr-btn-e",Ve).on("touchstart mousedown",function(e){G.stopProp&&e.stopPropagation()}).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32!=e.keyCode||Q(e.target).is(Ye)){if(9==e.keyCode&&W&&G.focusTrap){var t=D.find(Pe).filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),a=t.index(Q(":focus",D)),s=t.length-1,n=0;e.shiftKey&&(s=0,n=-1),a===s&&(t.eq(n)[0].focus(),e.preventDefault())}}else e.preventDefault()}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",n).on("touchend",".mbsc-fr-btn-e",i),L.addEventListener("touchstart",function(){ee||(ee=!0,_.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),Q.each(V,function(e,t){ne.tap(Q(".mbsc-fr-btn"+e,D),function(e){t=r(t)?ne.buttons[t]:t,(r(t.handler)?ne.handlers[t.handler]:t.handler).call(this,e,ne)},!0)}),ne._attachEvents(D),ne.position()!==!1&&(X=Y(L,f),W&&(D.removeClass("mbsc-fr-pos"),F&&!e?D.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+F).on(ue,a).find(".mbsc-fr-popup").addClass("mbsc-anim-"+F):c(t)),te("onShow",{target:L,valueText:ne._tempValue}))}function v(e,t){ne._isVisible||(e&&e(),ne.show()!==!1&&(ge=t))}function p(){ne._fillValue(),te("onSet",{valueText:ne._value})}function g(){te("onCancel",{valueText:ne._value})}function y(){ne.setVal(null,!0)}var _,w,x,D,M,C,T,k,S,V,A,P,F,E,W,$,I,L,N,O,R,q,X,z,U,j,B,G,J,Z,K,ee,te,ae,se,ne=this,re=Q(e),oe=[],le=new Date;ie.call(this,e,t,!0),ne.position=function(e){var t,a,s,n,i,r,l,c,d,u,m,f,h,b,v,p,g,y,w,x={},M=0,V=0,Y=0,A=0;if(!$)return!1;if(p=ae,v=se,h=L.offsetHeight,b=L.offsetWidth,b&&h&&(ae!==b||se!==h||!e)){if(ne._checkResp(b))return!1;if(ae=b,se=h,ne._isFullScreen||/top|bottom/.test(G.display)?T.width(b):W&&S.width(""),ne._position(D),!ne._isFullScreen&&/center|bubble/.test(G.display)&&(Q(".mbsc-w-p",D).each(function(){g=this.getBoundingClientRect().width,A+=g,Y=g>Y?g:Y}),f=A>b-16||G.tabs===!0,S.css({width:ne._isLiquid?Math.min(G.maxPopupWidth,b-16):Math.ceil(f?Y:A),"white-space":f?"":"nowrap"})),te("onPosition",{target:L,popup:U,hasTabs:f,oldWidth:p,oldHeight:v,windowWidth:b,windowHeight:h})!==!1&&W)return R&&(M=k.scrollLeft(),V=k.scrollTop(),ae&&C.css({width:"",height:""})),N=U.offsetWidth,O=U.offsetHeight,Z=O<=h&&N<=b,"center"==G.display?(w=Math.max(0,M+(b-N)/2),y=Math.max(0,V+(h-O)/2)):"bubble"==G.display?(t=void 0===G.anchor?re:Q(G.anchor),l=Q(".mbsc-fr-arr-i",D)[0],n=t.offset(),i=n.top+(E?V-_.offset().top:0),r=n.left+(E?M-_.offset().left:0),a=t[0].offsetWidth,s=t[0].offsetHeight,c=l.offsetWidth,d=l.offsetHeight,w=o(r-(N-a)/2,M+3,M+b-N-3),y=i+s+d/2,y+O+8>V+h&&i-O-d/2>V?(T.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),y=i-O-d/2):T.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),Q(".mbsc-fr-arr",D).css({left:o(r+a/2-(w+(N-c)/2),0,c)}),Z=y>V&&w>M&&y+O<=V+h&&w+N<=M+b):(w=M,y="top"==G.display?V:Math.max(0,V+h-O)),R&&(u=Math.max(y+O,E?P.scrollHeight:Q(document).height()),m=Math.max(w+N,E?P.scrollWidth:Q(document).width()),C.css({width:m,height:u}),G.scroll&&"bubble"==G.display&&(y+O+8>V+h||i>V+h||i+s<V)&&k.scrollTop(Math.min(i,y+O-h+8,u-h))),x.top=Math.floor(y),x.left=Math.floor(w),T.css(x),!0}},ne.attachShow=function(e,t){var a,s=Q(e).off(".mbsc"),n=s.prop("readonly");"inline"!==G.display&&((G.showOnFocus||G.showOnTap)&&s.is("input,select")&&(s.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){ne._isVisible&&this.blur()}),a=Q('label[for="'+s.attr("id")+'"]'),a.length||(a=s.closest("label"))),s.is("select")||(G.showOnFocus&&s.on("focus.mbsc",function(){ye?ye=!1:v(t,s)}),G.showOnTap&&(s.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),v(t,s))}),ne.tap(s,function(e){e.isMbscTap&&(ee=!0),v(t,s)}),a&&a.length&&ne.tap(a,function(e){e.target!==s[0]&&v(t,s)}))),oe.push({readOnly:n,el:s,lbl:a}))},ne.select=function(){W?ne.hide(!1,"set",!1,p):p()},ne.cancel=function(){W?ne.hide(!1,"cancel",!1,g):g()},ne.clear=function(){ne._clearValue(),te("onClear"),W&&ne._isVisible&&!ne.live?ne.hide(!1,"clear",!1,y):y()},ne.enable=function(){G.disabled=!1,Q.each(oe,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!1)})},ne.disable=function(){G.disabled=!0,Q.each(oe,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!0)})},ne.show=function(e,t){var a,s;if(!G.disabled&&!ne._isVisible){if(ne._readValue(),te("onBeforeShow")===!1)return!1;if(ge=null,F=G.animate,V=G.buttons||[],R=E||"bubble"==G.display,q=Me&&!R&&G.scrollLock,a=V.length>0,F!==!1&&("top"==G.display?F=F||"slidedown":"bottom"==G.display?F=F||"slideup":"center"!=G.display&&"bubble"!=G.display||(F=F||"pop")),W&&(K=Math.max(0,k.scrollTop()),J=Math.max(0,k.scrollLeft()),ae=0,se=0,q&&!x.hasClass("mbsc-fr-lock-ios")&&_.css({top:-K+"px",left:-J+"px"}),x.addClass((G.scrollLock?"mbsc-fr-lock":"")+(q?" mbsc-fr-lock-ios":"")+(E?" mbsc-fr-lock-ctx":"")),Q(document.activeElement).is("input,textarea")&&document.activeElement.blur(),B=H.activeInstance,H.activeInstance=ne,P.mbscModals=P.mbscModals||0,P.mbscLock=P.mbscLock||0,P.mbscModals++,G.scrollLock&&P.mbscLock++),s='<div lang="'+G.lang+'" class="mbsc-fr mbsc-'+G.theme+(G.baseTheme?" mbsc-"+G.baseTheme:"")+" mbsc-fr-"+G.display+" "+(G.cssClass||"")+" "+(G.compClass||"")+(ne._isLiquid?" mbsc-fr-liq":"")+(W?" mbsc-fr-pos":"")+(I?" mbsc-fr-pointer":"")+(Se?" mbsc-fr-hb":"")+(ee?"":" mbsc-no-touch")+(q?" mbsc-platform-ios":"")+(a?V.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(W?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(G.rtl?" mbsc-rtl":" mbsc-ltr")+(G.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===G.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+(W?'<div class="mbsc-fr-focus" tabindex="-1"></div>':"")+'<div class="mbsc-fr-w">'+(G.headerText?'<div class="mbsc-fr-hdr">'+(r(G.headerText)?G.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',s+=ne._generateContent(),s+="</div>",a){var n,i,o,c=V.length;for(s+='<div class="mbsc-fr-btn-cont">',i=0;i<V.length;i++)o=G.btnReverse?c-i-1:i,n=V[o],n=r(n)?ne.buttons[n]:n,"set"===n.handler&&(n.parentClass="mbsc-fr-btn-s"),"cancel"===n.handler&&(n.parentClass="mbsc-fr-btn-c"),s+="<div"+(G.btnWidth?' style="width:'+100/V.length+'%"':"")+' class="mbsc-fr-btn-w '+(n.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+o+" mbsc-fr-btn-e "+(void 0===n.cssClass?G.btnClass:n.cssClass)+(n.icon?" mbsc-ic mbsc-ic-"+n.icon:"")+'">'+(n.text||"")+"</div></div>";s+="</div>"}if(s+="</div></div></div></div>"+(W?"</div></div>":""),D=Q(s),C=Q(".mbsc-fr-persp",D),M=Q(".mbsc-fr-scroll",D),S=Q(".mbsc-fr-w",D),T=Q(".mbsc-fr-popup",D),w=Q(".mbsc-fr-hdr",D),L=D[0],z=M[0],U=T[0],ne._activeElm=Q(".mbsc-fr-focus",D)[0],ne._markup=D,ne._isVisible=!0,ne.markup=L,ne._markupReady(D),te("onMarkupReady",{target:L}),W&&(Q(window).on("keydown",l),G.scrollLock&&D.on("touchmove mousewheel wheel",function(e){Z&&e.preventDefault()}),G.focusTrap&&k.on("focusin",h),G.closeOnOverlayTap)){var m,f,v,p;M.on("touchstart mousedown",function(e){f||e.target!=z||(f=!0,m=!1,v=u(e,"X"),p=u(e,"Y"))}).on("touchmove mousemove",function(e){f&&!m&&(Math.abs(u(e,"X")-v)>9||Math.abs(u(e,"Y")-p)>9)&&(m=!0)}).on("touchcancel",function(){f=!1}).on("touchend click",function(e){f&&!m&&(ne.cancel(),"touchend"==e.type&&d()),f=!1})}W&&q?setTimeout(function(){b(e,t)},100):b(e,t)}},ne.hide=function(e,t,a,s){function n(){D.off(ue,n),m(e)}return!(!ne._isVisible||!a&&!ne._isValid&&"set"==t||!a&&te("onBeforeClose",{valueText:ne._tempValue,button:t})===!1)&&(ne._isVisible=!1,X&&(X.detach(),X=null),W&&(Q(document.activeElement).is("input,textarea")&&U.contains(document.activeElement)&&document.activeElement.blur(),H.activeInstance==ne&&(H.activeInstance=B),Q(window).off("keydown",l),k.off("focusin",h)),D&&(W&&F&&!e?D.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+F).on(ue,n).find(".mbsc-fr-popup").addClass("mbsc-anim-"+F):m(e),ne._detachEvents(D)),s&&s(),re.trigger("blur"),void te("onClose",{valueText:ne._value}))},ne.isVisible=function(){return ne._isVisible},ne.setVal=s,ne.getVal=s,ne._generateContent=s,ne._attachEvents=s,ne._detachEvents=s,ne._readValue=s,ne._clearValue=s,ne._fillValue=s,ne._markupReady=s,ne._markupInserted=s,ne._markupRemove=s,ne._position=s,ne.__processSettings=s,ne.__init=s,ne.__destroy=s,ne._destroy=function(){ne.hide(!0,!1,!0),re.off(".mbsc"),Q.each(oe,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),ne.__destroy()},ne._updateHeader=function(){var t=G.headerText,a=t?"function"==typeof t?t.call(e,ne._tempValue):t.replace(/\{value\}/i,ne._tempValue):"";w.html(a||"&nbsp;")},ne._processSettings=function(e){var a,s;for(ne.__processSettings(e),I=!G.touchUi,I&&(G.display=e.display||t.display||"bubble",G.buttons=e.buttons||t.buttons||[]),G.buttons=G.buttons||("inline"!==G.display?["cancel","set"]:[]),G.headerText=void 0===G.headerText?"inline"!==G.display&&"{value}":G.headerText,V=G.buttons||[],W="inline"!==G.display,E="body"!=G.context,_=Q(G.context),x=E?_:Q("body,html"),P=_[0],ne._$window=k=Q(E?G.context:window),ne.live=!0,s=0;s<V.length;s++)a=V[s],"ok"!=a&&"set"!=a&&"set"!=a.handler||(ne.live=!1);ne.buttons.set={text:G.setText,icon:G.setIcon,handler:"set"},ne.buttons.cancel={text:G.cancelText,icon:G.cancelIcon,handler:"cancel"},ne.buttons.close={text:G.closeText,icon:G.closeIcon,handler:"cancel"},ne.buttons.clear={text:G.clearText,icon:G.clearIcon,handler:"clear"},ne._isInput=re.is("input")},ne._init=function(e){var t=ne._isVisible,a=t&&!D.hasClass("mbsc-fr-pos");t&&ne.hide(!0,!1,!0),re.off(".mbsc"),ne.__init(e),ne._isLiquid="liquid"==G.layout,W?(ne._readValue(),ne._hasContent||G.skipShow||ne.attachShow(re),t&&ne.show(a)):ne.show(),re.removeClass("mbsc-cloak").filter("input, select, textarea").on("change.mbsc",function(){ne._preventChange||ne.setVal(re.val(),!0,!1),ne._preventChange=!1})},ne.buttons={},ne.handlers={set:ne.select,cancel:ne.cancel,clear:ne.clear},ne._value=null,ne._isValid=!0,ne._isVisible=!1,G=ne.settings,te=ne.trigger,a||ne.init()};He.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:Ce||Te,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,touchUi:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!ke},ae.Frame=He,De.frame.mobiscroll={headerText:!1,btnWidth:!1},De.scroller.mobiscroll=ne({},De.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),X&&Q(window).on("focus",function(){ge&&(ye=!0)});/* eslint-disable no-unused-vars */
var Fe="ios"==L,Ee=function(e,t,a){function s(e){he("onStart",{domEvent:e}),we.stopProp&&e.stopPropagation(),we.prevDef&&e.preventDefault(),we.readonly||we.lock&&O||T(e,this)&&!N&&(y&&y.removeClass("mbsc-active"),E=!1,O||(y=Q(e.target).closest(".mbsc-btn-e",this),y.length&&!y.hasClass("mbsc-disabled")&&(E=!0,x=setTimeout(function(){y.addClass("mbsc-active")},100))),N=!0,Z=!1,R=!1,ge.scrolled=O,oe=u(e,"X"),le=u(e,"Y"),P=oe,M=0,C=0,S=0,re=new Date,ne=+k(de,be)||0,O&&g(ne,Fe?0:1),"mousedown"===e.type&&Q(document).on("mousemove",n).on("mouseup",c))}function n(e){N&&(we.stopProp&&e.stopPropagation(),P=u(e,"X"),H=u(e,"Y"),M=P-oe,C=H-le,S=be?C:M,E&&(Math.abs(C)>we.thresholdY||Math.abs(M)>we.thresholdX)&&(clearTimeout(x),y.removeClass("mbsc-active"),E=!1),(ge.scrolled||!R&&Math.abs(S)>me)&&(Z||he("onGestureStart",F),ge.scrolled=Z=!0,X||(X=!0,q=B(l))),be||we.scrollLock?e.preventDefault():ge.scrolled?e.preventDefault():Math.abs(C)>7&&(R=!0,ge.scrolled=!0,c()))}function l(){I&&(S=o(S,-ae*I,ae*I)),g(o(ne+S,L-A,$+A)),X=!1}function c(e){if(N){var t,a=new Date-re;we.stopProp&&e&&e.stopPropagation(),G(q),X=!1,!R&&ge.scrolled&&(we.momentum&&a<300&&(t=S/a,S=Math.max(Math.abs(S),t*t/we.speedUnit)*(S<0?-1:1)),p(S)),E&&(clearTimeout(x),y.addClass("mbsc-active"),setTimeout(function(){y.removeClass("mbsc-active")},100),R||ge.scrolled||he("onBtnTap",{target:y[0],domEvent:e})),e&&"mouseup"==e.type&&Q(document).off("mousemove",n).off("mouseup",c),N=!1}}function d(e){if(e=e.originalEvent||e,S=be?void 0==e.deltaY?e.wheelDelta||e.detail:e.deltaY:e.deltaX,he("onStart",{domEvent:e}),we.stopProp&&e.stopPropagation(),S){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(S*=15),S=o(-S,-ee,ee),ne=pe,we.readonly)return;if(Z||v(),ne+S<L&&(ne=L,S=0),ne+S>$&&(ne=$,S=0),X||(X=!0,q=B(l)),!S&&Z)return;Z=!0,clearTimeout(K),K=setTimeout(function(){G(q),X=!1,Z=!1,p(S)},200)}}function m(e){he("onStart",{domEvent:e}),we.readonly||(e.stopPropagation(),ne=pe,Z=!1,e.target==z?(le=u(e,"Y",!0),Q(document).on("mousemove",f).on("mouseup",h)):(le=_.offset().top,f(e),h()))}function f(e){var t=(u(e,"Y",!0)-le)/D;W?(S=-(I*ae*2+D)*t,S=o(S,-ae*I,ae*I)):S=(L-$-D)*t,Z||v(),Z=!0,g(o(ne+S,L-A,$+A))}function h(){ne=pe,p(0),Q(document).off("mousemove",f).off("mouseup",h)}function b(e){e.stopPropagation()}function v(){F={posX:be?0:pe,posY:be?pe:0,originX:be?0:ne,originY:be?ne:0,direction:S>0?be?270:360:be?90:180},he("onGestureStart",F)}function p(e){var t,a,s;if(I&&(e=o(e,-ae*I,ae*I)),s=o(Math.round((ne+e)/ae)*ae,L,$),se){if(e<0){for(t=se.length-1;t>=0;t--)if(Math.abs(s)+D>=se[t].breakpoint){ye=t,_e=2,s=se[t].snap2;break}}else if(e>=0)for(t=0;t<se.length;t++)if(Math.abs(s)<=se[t].breakpoint){ye=t,_e=1,s=se[t].snap1;break}s=o(s,L,$)}a=we.time||(pe<L||pe>$?1e3:Math.max(1e3,Math.abs(s-pe)*we.timeUnit)),F.destinationX=be?0:s,F.destinationY=be?s:0,F.duration=a,F.transitionTiming=Y,he("onGestureEnd",F),ge.scroll(s,a)}function g(e,t,a,s){var n,i=e!=pe,r=t>1,o=t?fe+"transform "+Math.round(t)+"ms "+Y:"",l=function(){clearInterval(te),clearTimeout(ue),O=!1,pe=e,F.posX=be?0:e,F.posY=be?e:0,i&&he("onMove",F),r&&he("onAnimationEnd",F),s&&s()};F={posX:be?0:pe,posY:be?pe:0,originX:be?0:ne,originY:be?ne:0,direction:e-pe>0?be?270:360:be?90:180},pe=e,r&&(F.destinationX=be?0:e,F.destinationY=be?e:0,F.duration=t,F.transitionTiming=Y,he("onAnimationStart",F)),ce[ve+"Transition"]=o,ce[ve+"Transform"]="translate3d("+(be?"0,"+e+"px,":e+"px,0,")+"0)",z&&U&&(n=W?(j-e)/(I*ae*2):(e-$)/(L-$),z.style[ve+"Transition"]=o,z.style[ve+"Transform"]="translate3d(0,"+Math.max(0,Math.min((D-U)*n,D-U))+"px,0)"),!i&&!O||!t||t<=1?l():t&&(O=!a,clearInterval(te),te=setInterval(function(){var t=+k(de,be)||0;F.posX=be?0:t,F.posY=be?t:0,he("onMove",F),Math.abs(t-e)<2&&l()},100),clearTimeout(ue),ue=setTimeout(function(){l()},t)),we.sync&&we.sync(e,t,Y)}var y,_,w,x,D,M,C,S,V,Y,A,P,H,F,E,W,$,I,L,N,O,R,q,X,z,U,j,J,Z,K,ee,te,ae,se,ne,re,oe,le,ce,de,ue,me,he,be,pe,ge=this,ye=0,_e=1,we=t,xe=Q(e);ie.call(this,e,t,!0),ge.scrolled=!1,ge.scroll=function(t,a,s,n){t=i(t)?Math.round(t/ae)*ae:Math.ceil((Q(t,e).length?Math.round(de.offset()[V]-Q(t,e).offset()[V]):pe)/ae)*ae,t=o(t,L,$),ye=Math.round(t/ae),ne=pe,j=I*ae+t,g(t,a,s,n)},ge.refresh=function(e){var t;for(D=void 0===we.contSize?be?xe.height():xe.width():we.contSize,$=void 0===we.maxScroll?0:we.maxScroll,L=Math.min($,void 0===we.minScroll?Math.min(0,be?D-de.height():D-de.width()):we.minScroll),se=null,!be&&we.rtl&&(t=$,$=-L,L=-t),r(we.snap)&&(se=[],de.find(we.snap).each(function(){var e=be?this.offsetTop:this.offsetLeft,t=be?this.offsetHeight:this.offsetWidth;se.push({breakpoint:e+t/2,snap1:-e,snap2:D-e-t})})),ae=i(we.snap)?we.snap:1,I=we.snap?we.maxSnapScroll:0,Y=we.easing,A=we.elastic?i(we.snap)?ae:i(we.elastic)?we.elastic:0:0,ee=ae;ee>44;)ee/=2;ee=Math.round(44/ee)*ee,z&&(W=L==-(1/0)||$==1/0,U=L<$?Math.max(20,D*D/($-L+D)):0,z.style.height=U+"px",J.style.height=U?"":0),void 0===pe&&(pe=we.initialPos,ye=Math.round(pe/ae)),e||ge.scroll(we.snap?se?se[ye]["snap"+_e]:ye*ae:pe)},ge._processSettings=function(){be="Y"==we.axis,V=be?"top":"left",de=we.moveElement||xe.children().eq(0),ce=de[0].style,me=be?we.thresholdY:we.thresholdX,we.scrollbar&&(w=we.scrollbar,_=w.find(".mbsc-sc-bar"),z=_[0],J=w[0])},ge._init=function(){ge.refresh(),xe.on("touchstart mousedown",s).on("touchmove",n).on("touchend touchcancel",c),we.mousewheel&&xe.on("wheel mousewheel",d),z&&w.on("mousedown",m).on("click",b),e.addEventListener&&e.addEventListener("click",function(e){ge.scrolled&&(ge.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},ge._destroy=function(){clearInterval(te),xe.off("touchstart mousedown",s).off("touchmove",n).off("touchend touchcancel",c).off("wheel mousewheel",d),z&&w.off("mousedown",m).off("click",b)},we=ge.settings,he=ge.trigger,a||ge.init()};Ee.prototype={_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}};/* eslint-disable no-unused-vars */
var We={},$e=X?window.CSS:null,Ie=$e&&$e.supports&&$e.supports("(transform-style: preserve-3d)"),Le=function(e,t,a){function s(e){var t,a,s=+Q(this).attr("data-index");38==e.keyCode?(t=!0,a=-1):40==e.keyCode?(t=!0,a=1):32==e.keyCode&&(t=!0,o(s,Q(e.target))),t&&(e.stopPropagation(),e.preventDefault(),a&&H.start(s,a,e))}function r(){H.stop()}function o(e,t){var a=R[e],s=+t.attr("data-index"),r=b(a,s),o=U._tempSelected[e],l=i(a.multiple)?a.multiple:1/0;N("onItemTap",{target:t[0],index:e,value:r,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(a.multiple&&!a._disabled[r]&&(void 0!==o[r]?(t.removeClass(Y).removeAttr("aria-selected"),delete o[r]):(1==l&&(U._tempSelected[e]=o={},a._$markup.find(".mbsc-sc-itm-sel").removeClass(Y).removeAttr("aria-selected")),n(o).length<l&&(t.addClass(Y).attr("aria-selected","true"),o[r]=r))),D(a,e,s,z,a._index<s?1:2,!0,a.multiple),U.live&&(!a.multiple||1===a.multiple&&L.tapSelect)&&(L.setOnTap===!0||L.setOnTap[e])&&setTimeout(function(){U.select()},L.tapSelect?0:200))}function l(e,t){var a=R[e];return a&&(!a.multiple||1!==a.multiple&&t&&(L.setOnTap===!0||L.setOnTap[e]))}function c(e){return-(e.max-e._offset-(e.multiple&&!S?Math.floor(L.rows/2):0))*E}function d(e){return-(e.min-e._offset+(e.multiple&&!S?Math.floor(L.rows/2):0))*E}function u(e,t){return(e._array?e._map[t]:+e.getIndex(t,U))||0}function m(e,t){var a=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?Q(a).get(t%e._length):a[t]:Q.isFunction(a)?a(t,U):""}function f(e){return Q.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function h(e){var t=Q.isPlainObject(e)?e.display:e;return void 0===t?"":t}function b(e,t){return f(m(e,t))}function v(e,t,a){var s=R[e];D(s,e,s._index+t,L.delay+100,1==t?1:2,!1,!1,"keydown"==a.type)}function p(e){return Q.isArray(L.readonly)?L.readonly[e]:L.readonly}function g(e,t,a){var s=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=Q.isArray(e.data),e._array&&(e._length=e.data.length,Q.each(e.data,function(t,a){e._map[f(a)]=t})),e.circular=void 0===L.circular?void 0===e.circular?e._array&&e._length>L.rows:e.circular:Q.isArray(L.circular)?L.circular[t]:L.circular,e.min=e._array?e.circular?-(1/0):0:void 0===e.min?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=u(e,F[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-X,e._last=e._index+X,e._offset=e._first,a?(e._offset-=e._margin/E+(e._index-s),e._margin+=(e._index-s)*E):e._margin=0,e._refresh=function(t){ne(e._scroller.settings,{minScroll:c(e),maxScroll:d(e)}),e._scroller.refresh(t)},q[e.key]=e,e}function y(e,t,a,s,n){var i,r,o,l,c,d,u,b,v="",p=U._tempSelected[t],g=e._disabled||{};for(i=a;i<=s;i++)o=m(e,i),c=h(o),l=f(o),r=o&&void 0!==o.cssClass?o.cssClass:"",d=o&&void 0!==o.label?o.label:"",u=o&&o.invalid,b=void 0!==l&&l==F[t]&&!e.multiple,v+='<div role="option" tabindex="-1" aria-selected="'+!!p[l]+'" class="mbsc-sc-itm '+(n?"mbsc-sc-itm-3d ":"")+r+" "+(b?"mbsc-sc-itm-sel ":"")+(p[l]?Y:"")+(void 0===l?" mbsc-sc-itm-ph":" mbsc-btn-e")+(u?" mbsc-sc-itm-inv-h mbsc-disabled":"")+(g[l]?" mbsc-sc-itm-inv mbsc-disabled":"")+'" data-index="'+i+'" data-val="'+A(l)+'"'+(d?' aria-label="'+d+'"':"")+(b?' aria-selected="true"':"")+' style="height:'+E+"px;line-height:"+E+"px;"+(n?fe+"transform:rotateX("+(e._offset-i)*k%360+"deg) translateZ("+E*L.rows/2+"px);":"")+'">'+(O>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(E/O)+"px;font-size:"+Math.round(E/O*.8)+'px;">':"")+c+(O>1?"</div>":"")+"</div>";return v}function _(e,t,a){var s=Math.round(-a/E)+e._offset,n=s-e._current,i=e._first,r=e._last,o=i+X-T+1,l=r-X+T;n&&(e._first+=n,e._last+=n,e._current=s,n>0?(e._$scroller.append(y(e,t,Math.max(r+1,i+n),r+n)),Q(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(n,r-i+1)).remove(),S&&(e._$3d.append(y(e,t,Math.max(l+1,o+n),l+n,!0)),Q(".mbsc-sc-itm",e._$3d).slice(0,Math.min(n,l-o+1)).attr("class","mbsc-sc-itm-del"))):n<0&&(e._$scroller.prepend(y(e,t,i+n,Math.min(i-1,r+n))),Q(".mbsc-sc-itm",e._$scroller).slice(Math.max(n,i-r-1)).remove(),S&&(e._$3d.prepend(y(e,t,o+n,Math.min(o-1,l+n),!0)),Q(".mbsc-sc-itm",e._$3d).slice(Math.max(n,o-l-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=n*E,e._$scroller.css("margin-top",e._margin+"px"))}function w(e,t,a,s){var n,i=R[e],r=s||i._disabled,o=u(i,t),l=b(i,o),c=l,d=l,m=0,f=0;if(r[l]===!0){for(n=0;o-m>=i.min&&r[c]&&n<100;)n++,m++,c=b(i,o-m);for(n=0;o+f<i.max&&r[d]&&n<100;)n++,f++,d=b(i,o+f);l=(f<m&&f&&2!==a||!m||o-m<0||1==a)&&!r[d]?d:c}return l}function x(t,a,s,n,i,r,o){var c,d,m,f,h=U._isVisible;I=!0,f=L.validate.call(e,{values:F.slice(0),index:a,direction:s},U)||{},I=!1,f.valid&&(U._tempWheelArray=F=f.valid.slice(0)),r||Q.each(R,function(e,n){if(h&&n._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-disabled"),n._disabled={},f.disabled&&f.disabled[e]&&Q.each(f.disabled[e],function(e,t){n._disabled[t]=!0,h&&n._$markup.find('.mbsc-sc-itm[data-val="'+A(t)+'"]').addClass("mbsc-sc-itm-inv mbsc-disabled")}),F[e]=n.multiple?F[e]:w(e,F[e],s),h){if(n.multiple&&void 0!==a||n._$markup.find(".mbsc-sc-itm-sel").removeClass(Y).removeAttr("aria-selected"),d=u(n,F[e]),c=d-n._index+n._batch,Math.abs(c)>2*X+1&&(m=c+(2*X+1)*(c>0?-1:1),n._offset+=m,n._margin-=m*E,n._refresh()),n._index=d+n._batch,n.multiple){if(void 0===a)for(var r in U._tempSelected[e])n._$markup.find('.mbsc-sc-itm[data-val="'+A(r)+'"]').addClass(Y).attr("aria-selected","true")}else n._$markup.find('.mbsc-sc-itm[data-val="'+A(F[e])+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");n._$active&&n._$active.attr("tabindex",-1),n._$active=n._$markup.find('.mbsc-sc-itm[data-index="'+n._index+'"]').eq(S&&n.multiple?1:0).attr("tabindex",0),o&&a===e&&n._$active.length&&(n._$active[0].focus(),n._$scroller.parent().scrollTop(0)),n._scroller.scroll(-(d-n._offset+n._batch)*E,a===e||void 0===a?t:z,i)}}),N("onValidated",{index:a,time:t}),U._tempValue=L.formatValue.call(e,F,U),h&&U._updateHeader(),U.live&&l(a,r)&&(U._hasValue=n||U._hasValue,M(n,n,0,!0),n&&N("onSet",{valueText:U._value})),n&&N("onChange",{index:a,valueText:U._tempValue})}function D(e,t,a,s,n,i,r,o){var l=b(e,a);void 0!==l&&(F[t]=l,e._batch=e._array?Math.floor(a/e._length)*e._length:0,e._index=a,setTimeout(function(){x(s,t,n,!0,i,r,o)},10))}function M(t,a,s,n,i){if(n?U._tempValue=L.formatValue.call(e,U._tempWheelArray,U):x(s),!i){U._wheelArray=[];for(var r=0;r<F.length;r++)U._wheelArray[r]=R[r]&&R[r].multiple?Object.keys(U._tempSelected[r]||{})[0]:F[r];U._value=U._hasValue?U._tempValue:null,U._selected=ne(!0,{},U._tempSelected)}t&&(U._isInput&&j.val(U._hasValue?U._tempValue:""),N("onFill",{valueText:U._hasValue?U._tempValue:"",change:a}),a&&(U._preventChange=!0,j.trigger("change")))}var C,T,k,S,Y,P,H,F,E,W,$,I,L,N,O,R,q,X=40,z=1e3,U=this,j=Q(e);He.call(this,e,t,!0),U.setVal=U._setVal=function(t,a,s,n,i){U._hasValue=null!==t&&void 0!==t,U._tempWheelArray=F=Q.isArray(t)?t.slice(0):L.parseValue.call(e,t,U)||[],M(a,void 0===s?a:s,i,!1,n)},U.getVal=U._getVal=function(e){var t=U._hasValue||e?U[e?"_tempValue":"_value"]:null;return i(t)?+t:t},U.setArrayVal=U.setVal,U.getArrayVal=function(e){return e?U._tempWheelArray:U._wheelArray},U.changeWheel=function(e,t,a){var s,n;Q.each(e,function(e,t){n=q[e],n&&(s=n._nr,ne(n,t),g(n,s,!0),U._isVisible&&(S&&n._$3d.html(y(n,s,n._first+X-T+1,n._last-X+T,!0)),n._$scroller.html(y(n,s,n._first,n._last)).css("margin-top",n._margin+"px"),n._refresh(I)))}),!U._isVisible||U._isLiquid||I||U.position(),I||x(t,void 0,void 0,a)},U.getValidValue=w,U._generateContent=function(){var e,t=0,a="",s=S?fe+"transform: translateZ("+(E*L.rows/2+3)+"px);":"",n='<div class="mbsc-sc-whl-l" style="'+s+"height:"+E+"px;margin-top:-"+(E/2+(L.selectedLineBorder||0))+'px;"></div>',i=0;return Q.each(L.wheels,function(r,o){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(S?" mbsc-sc-whl-gr-3d-c":"")+(L.showLabel?" mbsc-sc-lbl-v":"")+'">'+n+'<div class="mbsc-sc-whl-gr'+(S?" mbsc-sc-whl-gr-3d":"")+(P?" mbsc-sc-cp":"")+(L.width||L.maxWidth?'"':'" style="max-width:'+L.maxPopupWidth+'px;"')+">",Q.each(o,function(r,o){U._tempSelected[i]=ne({},U._selected[i]),R[i]=g(o,i),t+=L.maxWidth?L.maxWidth[i]||L.maxWidth:L.width?L.width[i]||L.width:0,e=void 0!==o.label?o.label:r,a+='<div class="mbsc-sc-whl-w '+(o.cssClass||"")+(o.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(L.width?"width:"+(L.width[i]||L.width)+"px;":(L.minWidth?"min-width:"+(L.minWidth[i]||L.minWidth)+"px;":"")+(L.maxWidth?"max-width:"+(L.maxWidth[i]||L.maxWidth)+"px;":""))+'">'+($?'<div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"></div></div>':"")+'<div class="mbsc-sc-whl-o" style="'+s+'"></div>'+n+'<div aria-live="off" aria-label="'+e+'"'+(o.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+L.rows*E*(S?1.1:1)+'px;">'+(P?'<div data-index="'+i+'" data-step="1" class="mbsc-sc-btn mbsc-sc-btn-plus '+(L.btnPlusClass||"")+'"></div><div data-index="'+i+'" data-step="-1" class="mbsc-sc-btn mbsc-sc-btn-minus '+(L.btnMinusClass||"")+'"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+W+"px;margin-top:-"+(W/2+1)+"px;"+s+'"><div class="mbsc-sc-whl-sc" style="top:'+(W-E)/2+'px;">',a+=y(o,i,o._first,o._last)+"</div></div>",S&&(a+='<div class="mbsc-sc-whl-3d" style="height:'+E+"px;margin-top:-"+E/2+'px;">',a+=y(o,i,o._first+X-T+1,o._last-X+T,!0),a+="</div>"),a+="</div></div>",i++}),a+="</div></div>"}),t&&(L.maxPopupWidth=t),a},U._attachEvents=function(e){H=V(Q(".mbsc-sc-btn",e),v,L.delay,p,!0),Q(".mbsc-sc-whl",e).on("keydown",s).on("keyup",r)},U._detachEvents=function(){H.stop();for(var e=0;e<R.length;e++)R[e]._scroller.destroy()},U._markupReady=function(e){C=e,Q(".mbsc-sc-whl-w",C).each(function(e){var t,a=Q(this),s=R[e];s._$markup=a,s._$scroller=Q(".mbsc-sc-whl-sc",this),s._$3d=Q(".mbsc-sc-whl-3d",this),s._scroller=new Ee(this,{mousewheel:L.mousewheel,moveElement:s._$scroller,scrollbar:Q(".mbsc-sc-bar-c",this),initialPos:(s._first-s._index)*E,contSize:L.rows*E,snap:E,minScroll:c(s),maxScroll:d(s),maxSnapScroll:X,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,a){var n=t?fe+"transform "+Math.round(t)+"ms "+a:"";S&&(s._$3d[0].style[ve+"Transition"]=n,s._$3d[0].style[ve+"Transform"]="rotateX("+-e/E*k+"deg)")},onStart:function(t,a){a.settings.readonly=p(e)},onGestureStart:function(){a.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),N("onWheelGestureStart",{index:e})},onGestureEnd:function(a){var n=90==a.direction?1:2,i=a.duration,r=a.destinationY;t=Math.round(-r/E)+s._offset,D(s,e,t,i,n)},onAnimationStart:function(){a.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){a.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),N("onWheelAnimationEnd",{index:e}),s._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){_(s,e,t.posY)},onBtnTap:function(t){o(e,Q(t.target))}})}),x()},U._fillValue=function(){U._hasValue=!0,M(!0,!0,0,!0)},U._clearValue=function(){Q(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",C).removeClass(Y).removeAttr("aria-selected")},U._readValue=function(){var t=j.val()||"",a=0;""!==t&&(U._hasValue=!0),U._tempWheelArray=F=U._hasValue&&U._wheelArray?U._wheelArray.slice(0):L.parseValue.call(e,t,U)||[],U._tempSelected=ne(!0,{},U._selected),Q.each(L.wheels,function(e,t){Q.each(t,function(e,t){R[a]=g(t,a),a++})}),M(!1,!1,0,!0),N("onRead")},U.__processSettings=function(e){L=U.settings,N=U.trigger,O=L.multiline,Y="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+L.checkIcon,$=!L.touchUi,$&&(L.tapSelect=!0,L.circular=!1,L.rows=e.rows||t.rows||7)},U.__init=function(e){e&&(U._wheelArray=null),R=[],q={},P=L.showScrollArrows,S=L.scroll3d&&Ie&&!P&&!$&&("ios"==L.theme||"ios"==L.baseTheme),E=L.height,W=S?2*Math.round((E-.03*(E*L.rows/2+3))/2):E,T=Math.round(1.8*L.rows),k=360/(2*T),P&&(L.rows=Math.max(3,L.rows))},U._getItemValue=f,U._tempSelected={},U._selected={},a||U.init()};Le.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"scroller",_presets:We,_defaults:ne({},He.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:200,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",compClass:"mbsc-sc",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var a,s,n=[],i=[],r=0;return null!==e&&void 0!==e&&(n=(e+"").split(" ")),Q.each(t.settings.wheels,function(e,o){Q.each(o,function(e,o){s=o.data,a=t._getItemValue(s[0]),Q.each(s,function(e,s){if(n[r]==t._getItemValue(s))return a=t._getItemValue(s),!1}),i.push(a),r++})}),i}})},ae.Scroller=Le;var Ne={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},Oe=function(e){function t(e){var t,a,s,n,i=[];if(e){for(t=0;t<e.length;t++)if(a=e[t],a.start&&a.end&&!oe.test(a.start))for(s=new Date(x(a.start,G,U)),n=new Date(x(a.end,G,U));s<=n;)i.push(h(s.getFullYear(),s.getMonth(),s.getDate())),s.setDate(s.getDate()+1);else i.push(a);return i}return e}function a(e,t,a,s){return Math.min(s,Math.floor(e/t)*t+a)}function s(e,t,a){return Math.floor((a-t)/e)*e+t}function n(e){return U.getYear(e)}function i(e){return U.getMonth(e)}function r(e){return U.getDay(e)}function o(e){var t=e.getHours();return t=me&&t>=12?t-12:t,a(t,be,ye,xe)}function c(e){return a(e.getMinutes(),ve,_e,De)}function d(e){return a(e.getSeconds(),pe,we,Me)}function u(e){return e.getMilliseconds()}function m(e){return e.getHours()>11?1:0}function f(e){return e.getFullYear()+"-"+l(e.getMonth()+1)+"-"+l(e.getDate())}function p(e){return a(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),W,0,86400)}function g(e,t,a,s){var n;return void 0===L[t]||(n=+e[L[t]],isNaN(n))?a?Ve[t](a):void 0!==N[t]?N[t]:Ve[t](s):n}function y(e){var t,a=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==L.dd&&(t=e[L.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==L.tt&&(t=t||a,t=new Date(t.getTime()+e[L.tt]%86400*1e3));var s=g(e,"y",t,a),n=g(e,"m",t,a),i=Math.min(g(e,"d",t,a),U.getMaxDayOfMonth(s,n)),r=g(e,"h",t,a);return U.getDate(s,n,i,me&&g(e,"a",t,a)?r+12:r,g(e,"i",t,a),g(e,"s",t,a),g(e,"u",t,a))}function _(e,t){var a,s,n=["y","m","d","a","h","i","s","u","dd","tt"],i=[];if(null===e||void 0===e)return e;for(a=0;a<n.length;a++)s=n[a],void 0!==L[s]&&(i[L[s]]=Ve[s](e)),t&&(N[s]=Ve[s](e));return i}function D(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function M(e){return{value:e,display:(/yy/i.test(K)?e:(e+"").substr(2,2))+(U.yearSuffix||"")}}function C(e){return e}function T(e){var t=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:ie?D(f(ie),t):void 0,max:re?D(f(re),t):void 0,data:function(a){var s=new Date((new Date).setHours(0,0,0,0)),n=t?new Date(864e5*a):new Date(1970,a,1);return t&&(n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())),{invalid:t&&!A(n,!0),value:f(n),display:s.getTime()==n.getTime()?U.todayText:b(e,n,U)}},getIndex:function(e){return D(e,t)}}}function k(e){var t,a,s,n=[];for(/s/i.test(e)?a=pe:/i/i.test(e)?a=60*ve:/h/i.test(e)&&(a=3600*be),W=ke.tt=a,t=0;t<86400;t+=a)s=new Date((new Date).setHours(0,0,0,0)+1e3*t),n.push({value:t,display:b(e,s,U)});return{label:"",cssClass:"mbsc-dt-whl-time",data:n}}function S(){var e,t,a,s,n,i,r,o,c=0,d=[],u=[],m=[];if(/date/i.test(j)){for(e=J.split(/\|/.test(J)?"|":""),s=0;s<e.length;s++)if(a=e[s],i=0,a.length)if(/y/i.test(a)&&(O.y=1,i++),/m/i.test(a)&&(O.y=1,O.m=1,i++),/d/i.test(a)&&(O.y=1,O.m=1,O.d=1,i++),i>1&&void 0===L.dd)L.dd=c,c++,u.push(T(a)),m=u,$=!0;else if(/y/i.test(a)&&void 0===L.y)L.y=c,c++,u.push({cssClass:"mbsc-dt-whl-y",label:U.yearText,min:ie?U.getYear(ie):void 0,max:re?U.getYear(re):void 0,data:M,getIndex:C});else if(/m/i.test(a)&&void 0===L.m){for(L.m=c,r=[],c++,n=0;n<12;n++)o=K.replace(/[dy|]/gi,"").replace(/mm/,l(n+1)+(U.monthSuffix||"")).replace(/m/,n+1+(U.monthSuffix||"")),r.push({value:n,display:/MM/.test(o)?o.replace(/MM/,'<span class="mbsc-dt-month">'+U.monthNames[n]+"</span>"):o.replace(/M/,'<span class="mbsc-dt-month">'+U.monthNamesShort[n]+"</span>")});u.push({cssClass:"mbsc-dt-whl-m",label:U.monthText,data:r})}else if(/d/i.test(a)&&void 0===L.d){for(L.d=c,r=[],c++,n=1;n<32;n++)r.push({value:n,display:(/dd/i.test(K)?l(n):n)+(U.daySuffix||"")});u.push({cssClass:"mbsc-dt-whl-d",label:U.dayText,data:r})}d.push(u)}if(/time/i.test(j)){for(t=Z.split(/\|/.test(Z)?"|":""),s=0;s<t.length;s++)if(a=t[s],i=0,a.length&&(/h/i.test(a)&&(O.h=1,i++),/i/i.test(a)&&(O.i=1,i++),/s/i.test(a)&&(O.s=1,i++),/a/i.test(a)&&i++),i>1&&void 0===L.tt)L.tt=c,c++,m.push(k(a));else if(/h/i.test(a)&&void 0===L.h){for(r=[],L.h=c,O.h=1,c++,n=ye;n<(me?12:24);n+=be)r.push({value:n,display:me&&0===n?12:/hh/i.test(ee)?l(n):n});m.push({cssClass:"mbsc-dt-whl-h",label:U.hourText,data:r})}else if(/i/i.test(a)&&void 0===L.i){for(r=[],L.i=c,O.i=1,c++,n=_e;n<60;n+=ve)r.push({value:n,display:/ii/i.test(ee)?l(n):n});m.push({cssClass:"mbsc-dt-whl-i",label:U.minuteText,data:r})}else if(/s/i.test(a)&&void 0===L.s){for(r=[],L.s=c,O.s=1,c++,n=we;n<60;n+=pe)r.push({value:n,display:/ss/i.test(ee)?l(n):n});m.push({cssClass:"mbsc-dt-whl-s",label:U.secText,data:r})}else/a/i.test(a)&&void 0===L.a&&(L.a=c,c++,m.push({cssClass:"mbsc-dt-whl-a",label:U.ampmText,data:/A/.test(a)?[{value:0,display:U.amText.toUpperCase()},{value:1,display:U.pmText.toUpperCase()}]:[{value:0,display:U.amText},{value:1,display:U.pmText}]}));m!=u&&d.push(m)}return d}function V(e){var t,a,s,n={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",n.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}n.format=t,a=e.attr("min"),s=e.attr("max"),a&&"undefined"!=a&&(n.min=v(t,a)),s&&"undefined"!=s&&(n.max=v(t,s))}return n}function Y(e,t){var a,s,n=!1,i=!1,r=0,o=0,l=ie?y(_(ie)):-(1/0),c=re?y(_(re)):1/0;if(A(e))return e;if(e<l&&(e=l),e>c&&(e=c),a=e,s=e,2!==t)for(n=A(a,!0);!n&&a<c;)a=new Date(a.getTime()+864e5),n=A(a,!0),r++;if(1!==t)for(i=A(s,!0);!i&&s>l;)s=new Date(s.getTime()-864e5),i=A(s,!0),o++;return 1===t&&n?a:2===t&&i?s:o<=r&&i?s:a}function A(e,t){return!(!t&&e<ie)&&(!(!t&&e>re)&&(!!P(e,se)||!P(e,ae)))}function P(e,t){var a,s,n;if(t)for(s=0;s<t.length;s++)if(a=t[s],n=a+"",!a.start)if(ce.test(n)){if(n=+n.replace("w",""),n==e.getDay())return!0}else if(le.test(n)){if(n=n.split("/"),n[1]){if(n[0]-1==e.getMonth()&&n[1]==e.getDate())return!0}else if(n[0]==e.getDate())return!0}else if(a=x(a,G,U),e.getFullYear()==a.getFullYear()&&e.getMonth()==a.getMonth()&&e.getDate()==a.getDate())return!0;return!1}function H(e,t,a,s,n,i,r){var o,l,c,d;if(e)for(l=0;l<e.length;l++)if(o=e[l],d=o+"",!o.start)if(ce.test(d))for(d=+d.replace("w",""),c=d-s;c<n;c+=7)c>=0&&(i[c+1]=r);else le.test(d)?(d=d.split("/"),d[1]?d[0]-1==a&&(i[d[1]]=r):i[d[0]]=r):(o=x(o,G,U),U.getYear(o)==t&&U.getMonth(o)==a&&(i[U.getDay(o)]=r))}function F(e,t,s,n,i,r,o,l){var c,d,u,m,f,h,b,v,p,g,y,_,w,x,D,M,C,T,k,S,V={},Y=U.getDate(n,i,r),A=["a","h","i","s"];if(e){for(b=0;b<e.length;b++)y=e[b],y.start&&(y.apply=!1,u=y.d,C=u+"",T=C.split("/"),u&&(u.getTime&&n==U.getYear(u)&&i==U.getMonth(u)&&r==U.getDay(u)||!ce.test(C)&&(T[1]&&r==T[1]&&i==T[0]-1||!T[1]&&r==T[0])||ce.test(C)&&Y.getDay()==+C.replace("w",""))&&(y.apply=!0,V[Y]=!0));for(b=0;b<e.length;b++)if(y=e[b],c=0,M=0,v=Ce[s],p=Te[s],x=!0,D=!0,d=!1,y.start&&(y.apply||!y.d&&!V[Y])){for(_=y.start.split(":"),w=y.end.split(":"),g=0;g<3;g++)void 0===_[g]&&(_[g]=0),void 0===w[g]&&(w[g]=59),_[g]=+_[g],w[g]=+w[g];if("tt"==s)v=a(Math.round((new Date(Y).setHours(_[0],_[1],_[2])-new Date(Y).setHours(0,0,0,0))/1e3),W,0,86400),p=a(Math.round((new Date(Y).setHours(w[0],w[1],w[2])-new Date(Y).setHours(0,0,0,0))/1e3),W,0,86400);else{for(_.unshift(_[0]>11?1:0),w.unshift(w[0]>11?1:0),me&&(_[1]>=12&&(_[1]=_[1]-12),w[1]>=12&&(w[1]=w[1]-12)),g=0;g<t;g++)void 0!==R[g]&&(k=a(_[g],ke[A[g]],Ce[A[g]],Te[A[g]]),S=a(w[g],ke[A[g]],Ce[A[g]],Te[A[g]]),m=0,f=0,h=0,me&&1==g&&(m=_[0]?12:0,f=w[0]?12:0,h=R[0]?12:0),x||(k=0),D||(S=Te[A[g]]),(x||D)&&k+m<R[g]+h&&R[g]+h<S+f&&(d=!0),R[g]!=k&&(x=!1),R[g]!=S&&(D=!1));if(!l)for(g=t+1;g<4;g++)_[g]>0&&(c=ke[s]),w[g]<Te[A[g]]&&(M=ke[s]);d||(k=a(_[t],ke[s],Ce[s],Te[s])+c,S=a(w[t],ke[s],Ce[s],Te[s])-M,x&&(v=k),D&&(p=S))}if(x||D||d)for(g=v;g<=p;g+=ke[s])o[g]=!l}}}var W,$,I,L={},N={},O={},R=[],q=V(Q(this)),X=ne({},e.settings),z=E[X.calendarSystem],U=ne(e.settings,de,z,Ne,q,X),j=U.preset,B="datetime"==j?U.dateFormat+U.separator+U.timeFormat:"time"==j?U.timeFormat:U.dateFormat,G=q.format||B,J=U.dateWheels||U.dateFormat,Z=U.timeWheels||U.timeFormat,K=U.dateWheels||U.dateDisplay,ee=Z,te=U.baseTheme||U.theme,ae=t(U.invalid),se=t(U.valid),ie=x(U.min,G,U),re=x(U.max,G,U),ue=/time/i.test(j),me=/h/.test(ee),fe=/D/.test(K),he=U.steps||{},be=he.hour||U.stepHour||1,ve=he.minute||U.stepMinute||1,pe=he.second||U.stepSecond||1,ge=he.zeroBased,ye=ge||!ie?0:ie.getHours()%be,_e=ge||!ie?0:ie.getMinutes()%ve,we=ge||!ie?0:ie.getSeconds()%pe,xe=s(be,ye,me?11:23),De=s(ve,_e,59),Me=s(ve,_e,59),Ce={y:ie?ie.getFullYear():-(1/0),m:0,d:1,h:ye,i:_e,s:we,a:0,tt:0},Te={y:re?re.getFullYear():1/0,m:11,d:31,h:xe,i:De,s:Me,a:1,tt:86400},ke={y:1,m:1,d:1,h:be,i:ve,s:pe,a:1,tt:1},Se={bootstrap:46,ios:50,material:46,mobiscroll:46,windows:50},Ve={y:n,m:i,d:r,h:o,i:c,s:d,u:u,a:m,dd:f,tt:p};return e.getVal=function(t){return e._hasValue||t?w(y(e.getArrayVal(t)),U,G):null},e.getDate=function(t){return e._hasValue||t?y(e.getArrayVal(t)):null},e.setDate=function(t,a,s,n,i){e.setArrayVal(_(t,!0),a,i,n,s)},I=S(),U.isoParts=O,e._format=B,e._order=L,e.handlers.now=function(){e.setDate(new Date,e.live,1e3,!0,!0)},e.buttons.now={text:U.nowText,icon:U.nowIcon,handler:"now"},{minWidth:$&&ue?Se[te]:void 0,compClass:"mbsc-dt mbsc-sc",wheels:I,headerText:!!U.headerText&&function(){return b(B,y(e.getArrayVal(!0)),U)},formatValue:function(e){return b(G,y(e),U)},parseValue:function(e){return e||(N={}),_(x(e||U.defaultValue||new Date,G,U,O),!!e)},validate:function(t){var a,s,n,i,r=t.values,o=t.index,l=t.direction,c=U.wheels[0][L.d],d=Y(y(r),l),u=_(d),m=[],f={},h=Ve.y(d),b=Ve.m(d),v=U.getMaxDayOfMonth(h,b),p=!0,g=!0;if(Q.each(["dd","y","m","d","tt","a","h","i","s"],function(e,t){var a=Ce[t],n=Te[t],i=Ve[t](d);if(m[L[t]]=[],p&&ie&&(a=Ve[t](ie)),g&&re&&(n=Ve[t](re)),i<a&&(i=a),i>n&&(i=n),p&&(p=i==a),g&&(g=i==n),void 0!==L[t]){if("y"!=t&&"dd"!=t)for(s=Ce[t];s<=Te[t];s+=ke[t])(s<a||s>n)&&m[L[t]].push(s);if("d"==t){var r=U.getDate(h,b,1).getDay(),o={};H(ae,h,b,r,v,o,1),H(se,h,b,r,v,o,0),Q.each(o,function(e,a){a&&m[L[t]].push(e)})}}}),ue&&Q.each(["a","h","i","s","tt"],function(t,a){var s=Ve[a](d),n=Ve.d(d),i={};void 0!==L[a]&&(F(ae,t,a,h,b,n,i,0),F(se,t,a,h,b,n,i,1),Q.each(i,function(e,t){t&&m[L[a]].push(e)}),R[t]=e.getValidValue(L[a],s,l,i))}),c&&(c._length!==v||fe&&(void 0===o||o===L.y||o===L.m))){for(f[L.d]=c,c.data=[],a=1;a<=v;a++)i=U.getDate(h,b,a).getDay(),n=K.replace(/[my|]/gi,"").replace(/dd/,(a<10?"0"+a:a)+(U.daySuffix||"")).replace(/d/,a+(U.daySuffix||"")),c.data.push({value:a,display:/DD/.test(n)?n.replace(/DD/,'<span class="mbsc-dt-day">'+U.dayNames[i]+"</span>"):n.replace(/D/,'<span class="mbsc-dt-day">'+U.dayNamesShort[i]+"</span>")});e._tempWheelArray[L.d]=u[L.d],e.changeWheel(f)}return{disabled:m,valid:u}}}},Re={controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,breakPointMd:768,months:1,pageBuffer:1,weeks:6,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,tabs:"auto",todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",todayText:"Today",moreEventsText:"{count} more",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"},qe=function(e){function t(t){t.hasClass("mbsc-cal-h")&&(t.removeClass("mbsc-cal-h"),e._onSelectShow())}function a(e){e.hasClass("mbsc-cal-h")||e.addClass("mbsc-cal-h")}function n(e){e.hasClass("mbsc-cal-h")?t(e):a(e)}function i(){var t,a,s;ve={},pe=[],xe={},dt=e.trigger,Z=Q(yt),s=ne({},e.settings),lt=ne(e.settings,Re,s),t=lt.controls.join(","),Te=lt.firstDay,$e=lt.rtl,st=lt.pageBuffer,ft=lt.weekCounter,me=lt.weeks,We=6==me,Ie="vertical"==lt.calendarScroll,be="inline"==lt.display?Z.is("div")?Z:Z.parent():e._$window,ht="full"==lt.weekDays?"":"min"==lt.weekDays?"Min":"Short",a=lt.layout||("inline"==lt.display||/top|bottom/.test(lt.display)&&lt.touchUi?"liquid":""),Fe="liquid"==a,he=Fe?null:lt.calendarWidth,ot=$e&&!Ie?-1:1,ge="mbsc-disabled "+(lt.disabledClass||""),_e="mbsc-selected "+(lt.selectedTabClass||""),ye="mbsc-selected "+(lt.selectedClass||""),ze=Math.max(1,Math.floor(((lt.calendarHeight||0)/me-45)/18)),t.match(/calendar/)&&(ve.calendar=1,ke=!0),t.match(/date/)&&!ke&&(ve.date=1),t.match(/time/)&&(ve.time=1),lt.controls.forEach(function(e){ve[e]&&pe.push(e)}),Ae=lt.quickNav&&ke&&We,bt=lt.yearChange&&We,Fe&&ke&&"center"==lt.display&&(e._isFullScreen=!0),lt.layout=a,lt.preset=(ve.date||ke?"date":"")+(ve.time?"time":"")}function r(){Qe=bt?lt.monthNamesShort:lt.monthNames,gt=lt.yearSuffix||"",Ke=(lt.dateWheels||lt.dateFormat).search(/m/i),vt=(lt.dateWheels||lt.dateFormat).search(/y/i),Ce=e._format,lt.min&&(Be=g(x(lt.min,Ce,lt)),Ze=lt.getYear(Be),Je=lt.getMonth(Be),Ge=lt.getDate(12*Math.floor(Ze/12),0,1)),lt.max&&(qe=g(x(lt.max,Ce,lt)),je=lt.getYear(qe),Ue=lt.getMonth(qe),Xe=lt.getDate(12*Math.floor(je/12),0,1))}function o(e,t,a){e[t]=e[t]||[],e[t].push(a)}function l(e,t,a){var s,n,i,r,l=lt.getYear(t),c=lt.getMonth(t),d={};return e&&Q.each(e,function(e,u){if(s=u.d||u.start||u,n=s+"",u.start&&u.end)for(r=g(x(u.start,Ce,lt)),i=g(x(u.end,Ce,lt));r<=i;)o(d,r,u),r=lt.getDate(lt.getYear(r),lt.getMonth(r),lt.getDay(r)+1);else if(ce.test(n))for(r=R(t,!1,+n.replace("w",""));r<=a;)o(d,r,u),r=lt.getDate(lt.getYear(r),lt.getMonth(r),lt.getDay(r)+7);else if(le.test(n))if(n=n.split("/"),n[1])for(r=lt.getDate(l,n[0]-1,n[1]);r<=a;)o(d,r,u),r=lt.getDate(lt.getYear(r)+1,lt.getMonth(r),n[1]);else for(r=lt.getDate(l,c,n[0]);r<=a;)o(d,r,u),r=lt.getDate(lt.getYear(r),lt.getMonth(r)+1,n[0]);else o(d,g(x(s,Ce,lt)),u)}),d}function c(e){return!(e<Be)&&(!(e>qe)&&(void 0===Pe[e]||void 0!==ut[e]))}function u(t){var a,s,n,i,r=!!Ne[t]&&Ne[t],o=r&&r[0].background,l="";if(r){for(n='<div class="mbsc-cal-marks">',a=0;a<r.length;a++)s=r[a],l+=(s.cssClass||"")+" ",n+='<div class="mbsc-cal-mark"'+(s.color?' style="background:'+s.color+';"':"")+"></div>";n+="</div>"}return i={marked:r,background:o,cssClass:l,markup:xe[t]?xe[t].join(""):Ve?n:""},ne(i,e._getDayProps(t,i))}function m(e){return' style="'+(Ie?"transform: translateY("+100*e+"%)":"left:"+100*e*ot+"%")+'"'}function f(){nt="auto"==lt.months?Math.max(1,Math.min(3,Math.floor((he||P(be))/280))):+lt.months,rt=nt+2*st,it=0,Ie=Ie&&nt<2,ct=void 0===lt.showOuterDays?nt<2&&!Ie:lt.showOuterDays}function b(e){return q(e,nt-1)>qe&&(e=q(qe,1-nt)),e<Be&&(e=Be),e}function v(e,t,a){var s=e.color,n=e.text;return'<div data-id="'+e._idx+'" data-index="'+t+'" class="mbsc-cal-txt" title="'+Q("<div>"+n+"</div>").text()+'"'+(s?' style="background:'+s+(a?";color:"+S(s):"")+';"':"")+">"+(a?n:"")+"</div>"}function y(t){var a=R(q(t,-it-st),!1),s=R(q(t,-it+nt+st-1),!1);s=lt.getDate(lt.getYear(s),lt.getMonth(s),lt.getDay(s)+7*me),e._onGenMonth(a,s),Pe=l(lt.invalid,a,s),ut=l(lt.valid,a,s),Ne=l(lt.labels||lt.events||lt.marked||lt.colors,a,s),Le=e._labels||Ne,Se=lt.labels||e._labels,Se&&!function(){xe={};for(var e={},t=a,n=1,i=function(){t.getDay()==Te&&(e={});for(var a=ze,s=Le[t]||[],i=s.length,r=[],o=void 0,l=void 0,c=0,d=0,u=0,m=void 0;c<a;)if(o=null,s.forEach(function(t,a){e[c]==t&&(o=t,l=a)}),c==a-1&&(d<i-1||i&&u==i&&!o)){var f=i-d,h=(f>1?lt.moreEventsPluralText||lt.moreEventsText:lt.moreEventsText).replace(/{count}/,f);f&&r.push('<div class="mbsc-cal-txt-more">'+h+"</div>"),o&&(e[c]=null,o._days.forEach(function(e){xe[e][c]='<div class="mbsc-cal-txt-more">'+lt.moreEventsText.replace(/{count}/,1)+"</div>"})),d++,c++}else if(o)l==u&&u++,D(t,x(o.end))&&(e[c]=null),r.push(v(o,l)),c++,d++,o._days.push(t);else if(u<i){var b=s[u],y=b.start&&x(b.start),_=b.end&&x(b.end),w=t.getDay(),M=Te-w>0?7:0,C=_&&!D(y,_);y&&!D(t,y)&&w!=Te||(n++,C?(e[c]=b,b._idx=b._idx||n):b._idx=n,b._days=[t],m=C?100*Math.min(p(t,g(_))+1,7+Te-w-M):100,r.push(C?'<div class="mbsc-cal-txt-w" style="width:'+m+'%">'+v(b,u,!0)+"</div>"+v(b,u):v(b,u,!0)),c++,d++),u++}else r.push('<div class="mbsc-cal-txt-ph"></div>'),c++;xe[t]=r,t=lt.getDate(lt.getYear(t),lt.getMonth(t),lt.getDay(t)+1)};t<s;)i()}()}function _(e){var t=lt.getYear(e),a=lt.getMonth(e);we=e,de=e,$(e),dt("onMonthChange",{year:t,month:a}),dt("onMonthLoading",{year:t,month:a}),dt("onPageChange",{firstDay:e}),dt("onPageLoading",{firstDay:e}),y(e)}function w(e){var t=lt.getYear(e),a=lt.getMonth(e);void 0!==at&&A(e,at,!0),void 0===at&&M(e,t,a),H(de,Me.focus),Me.focus=!1}function M(e,t,a){var s=Me.$scroller;Q(".mbsc-cal-slide",s).removeClass("mbsc-cal-slide-a"),Q(".mbsc-cal-slide",s).slice(st,st+nt).addClass("mbsc-cal-slide-a"),Se&&Q(".mbsc-cal-slide-a .mbsc-cal-txt",s).on("mouseenter",function(){var e=Q(this).attr("data-id");Q('.mbsc-cal-txt[data-id="'+e+'"]',s).addClass("mbsc-hover")}).on("mouseleave",function(){Q(".mbsc-cal-txt.mbsc-hover",s).removeClass("mbsc-hover")}),dt("onMonthLoaded",{year:t,month:a}),dt("onPageLoaded",{firstDay:e})}function C(){var e,t;return e='<div class="mbsc-cal-tabs-c"><div class="mbsc-cal-tabs" role="tablist">',pe.forEach(function(a,s){t=lt[("calendar"==a?"date":a)+"Text"],e+='<div role="tab" aria-controls="'+(yt.id+"-mbsc-pnl-"+s)+'" class="mbsc-cal-tab mbsc-fr-btn-e '+(s?"":_e)+'" data-control="'+a+'"'+(lt.tabLink?'><a href="#">'+t+"</a>":' tabindex="0">'+t)+"</div>"}),e+="</div></div>"}function T(){var e,t,a,s,n,i="",r=$e?lt.btnCalNextClass:lt.btnCalPrevClass,o=$e?lt.btnCalPrevClass:lt.btnCalNextClass;for(s='<div class="mbsc-cal-btn-w"><div data-step="-1" role="button" tabindex="0" aria-label="'+lt.prevMonthText+'" class="'+r+' mbsc-cal-prev mbsc-cal-prev-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div>',t=0;t<(me?nt:1);t++)s+='<div role="button" class="mbsc-cal-month"></div>';if(s+='<div data-step="1" role="button" tabindex="0" aria-label="'+lt.nextMonthText+'" class="'+o+' mbsc-cal-next mbsc-cal-next-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>',bt&&(i='<div class="mbsc-cal-btn-w"><div data-step="-12" role="button" tabindex="0" aria-label="'+lt.prevYearText+'" class="'+r+' mbsc-cal-prev mbsc-cal-prev-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div><div role="button" class="mbsc-cal-year"></div><div data-step="12" role="button" tabindex="0" aria-label="'+lt.nextYearText+'" class="'+o+' mbsc-cal-next mbsc-cal-next-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>'),me&&(n=A(we)),e='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal '+(We?"":" mbsc-cal-week-view")+(nt>1?" mbsc-cal-multi ":"")+(ft?" mbsc-cal-weeks ":"")+(Ie?" mbsc-cal-vertical":"")+(Ve?" mbsc-cal-has-marks":"")+(Se?" mbsc-cal-has-labels":"")+(ct?"":" mbsc-cal-hide-diff ")+(lt.calendarClass||"")+'"'+(Fe?"":' style="width:'+(he||280*nt)+'px;"')+'><div class="mbsc-cal-hdr">'+(vt<Ke||nt>1?i+s:s+i)+"</div>",me){for(e+='<div class="mbsc-cal-body"><div class="mbsc-cal-day-picker"><div class="mbsc-cal-days-c">',a=0;a<nt;a++){for(e+='<div class="mbsc-cal-days">',t=0;t<7;t++)e+='<div aria-label="'+lt.dayNames[(t+Te)%7]+'">'+lt["dayNames"+ht][(t+Te)%7]+"</div>";e+="</div>"}e+='</div><div class="mbsc-cal-scroll-c mbsc-cal-day-scroll-c '+(lt.calendarClass||"")+'"'+(lt.calendarHeight?' style="height:'+lt.calendarHeight+'px"':"")+'><div class="mbsc-cal-scroll" style="width:'+100/nt+'%">'+n+"</div></div>"}if(e+="</div>",Ae){for(e+='<div class="mbsc-cal-month-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(lt.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=0;t<3;t++){for(e+='<div class="mbsc-cal-slide"'+m(t-1)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">',
a=0;a<12;a++)a&&a%3===0&&(e+='</div><div class="mbsc-cal-row">'),e+='<div role="gridcell"'+(1==t?' tabindex="-1" aria-label="'+lt.monthNames[a]+'" data-val="'+a+'"':"")+' class="mbsc-cal-cell'+(1==t?" mbsc-btn-e":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+(1==t?lt.monthNamesShort[a]:"&nbsp;")+"</div></div>";e+="</div></div></div>"}for(e+="</div></div></div>",e+='<div class="mbsc-cal-year-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(lt.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=-1;t<2;t++)e+=k(X(we,t),t);e+="</div></div></div>"}return e+="</div></div></div>"}function k(e,t){var a,s=lt.getYear(e),n='<div class="mbsc-cal-slide"'+m(t)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(a=0;a<12;a++)a&&a%3===0&&(n+='</div><div class="mbsc-cal-row">'),n+='<div role="gridcell" tabindex="-1" aria-label="'+s+'" data-val="'+s+'" class="mbsc-cal-cell mbsc-btn-e '+(s<Ze||s>je?" mbsc-disabled ":"")+(s==lt.getYear(we)?ye:"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+s+gt+"</div></div>",s++;return n+="</div></div></div>"}function Y(t,a){var s,n,i,r,o,l,d,f,h,b,v,p,g,y,_,w,x=1,M=lt.getYear(t),C=lt.getMonth(t),T=lt.getDay(t),k=null!==lt.defaultValue||e._hasValue?e.getDate(!0):null,V=lt.getDate(M,C,T).getDay(),Y=Te-V>0?7:0,A='<div class="mbsc-cal-slide"'+m(a)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(w=0;w<7*me;w++)_=w+Te-Y,s=lt.getDate(M,C,_-V+T),i=s.getFullYear(),r=s.getMonth(),o=s.getDate(),l=lt.getMonth(s),d=lt.getDay(s),y=lt.getMaxDayOfMonth(i,r),f=i+"-"+(r+1)+"-"+o,h=ne({valid:c(s),selected:k&&D(k,s)},u(s)),b=h.valid,v=h.selected,n=h.cssClass,p=new Date(s).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),g=l!==C,De[f]=h,w&&w%7===0&&(A+='</div><div class="mbsc-cal-row">'),ft&&w%7===0&&("month"==ft&&g&&x>1?x=1==o?1:2:"year"==ft&&(x=lt.getWeekNumber(lt.getDate(i,r,o+(7-Te+1)%7))),A+='<div role="gridcell" class="mbsc-cal-cell mbsc-cal-week-nr">'+x+"</div>",x++),A+='<div role="gridcell" aria-label="'+(p?lt.todayText+", ":"")+lt.dayNames[s.getDay()]+", "+lt.monthNames[l]+" "+d+" "+(h.ariaLabel?", "+h.ariaLabel:"")+'"'+(g&&!ct?' aria-hidden="true"':' data-full="'+f+'"')+(v?' aria-selected="true"':"")+(b?' tabindex="-1"':' aria-disabled="true"')+' class="mbsc-cal-cell mbsc-cal-day mbsc-cal-day'+_%7+" "+(lt.dayClass||"")+" "+(v?ye:"")+(p?" "+lt.todayClass:"")+(n?" "+n:"")+(1==d?" mbsc-cal-day-first":"")+(d==y?" mbsc-cal-day-last":"")+(g?" mbsc-cal-day-diff":"")+(b?" mbsc-btn-e":" mbsc-disabled")+(h.marked?" mbsc-cal-day-marked":"")+(h.background?" mbsc-cal-day-colored":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-day-i"><div class="mbsc-cal-day-date mbsc-cal-cell-txt"'+(h.background?' style="background:'+h.background+";color:"+S(h.background)+'"':"")+">"+d+"</div>"+(h.markup||"")+"</div></div>";return A+="</div></div></div>"}function A(e,t,a){var s,n=lt.getYear(e),i=lt.getMonth(e),r=Me?Me.pos:0,o="";if(De={},me)for(t||(dt("onMonthLoading",{year:n,month:i}),dt("onPageLoading",{firstDay:e})),y(e),s=0;s<rt;s++)o+=Y(q(e,s-it-st),r*ot+s-st);return at=void 0,a&&Me&&(Me.$scroller.html(o),M(e,n,i)),o}function H(e,t){var a=Me.$active;a&&(a.hasClass("mbsc-disabled")?a.removeAttr("tabindex"):a.attr("tabindex","-1")),Me.$active=Q('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+'"]',Me.$scroller).attr("tabindex","0"),t&&Me.$active.length&&Me.$active[0].focus()}function F(t){var a=Me&&Me.$scroller;lt.highlight&&Me&&(Q(".mbsc-selected",a).removeClass(ye).removeAttr("aria-selected"),(null!==lt.defaultValue||e._hasValue)&&Q('.mbsc-cal-day[data-full="'+t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+'"]',a).addClass(ye).attr("aria-selected","true"))}function E(e,t){Q(".mbsc-selected",t).removeClass(ye).removeAttr("aria-selected"),Q('.mbsc-cal-cell[data-val="'+e+'"]',t).addClass(ye).attr("aria-selected","true")}function W(t,a,s,n){var i,r;mt&&(t<Be&&(t=Be),t>qe&&(t=qe),"calendar"!==mt&&Ye&&!a||(e._isSetDate=!0,ke&&me&&(r=R(b(t),We),tt&&(t<q(we,-it)||t>=q(we,nt-it))&&(i=We?lt.getMonth(r)-lt.getMonth(we)+12*(lt.getYear(r)-lt.getYear(we)):Math.floor(p(we,r)/(7*me)),i&&(Me.queue=[],Me.focus=n&&s,z(Me,i,s))),i&&s||H(t,n),a||F(t),We||$(t,!0),de=t,tt=!0),e._onSetDate(t,i),e._isSetDate=!1))}function $(e,t){var a,s,n,i=lt.getYear(e),r=lt.getMonth(e),o=i+gt;if(Ae){if(E(r,et.$scroller),E(i,pt.$scroller),z(pt,Math.floor(i/12)-Math.floor(lt.getYear(pt.first)/12),!0),Q(".mbsc-cal-cell",et.$scroller).removeClass("mbsc-disabled"),i===Ze)for(a=0;a<Je;a++)Q('.mbsc-cal-cell[data-val="'+a+'"]',et.$scroller).addClass("mbsc-disabled");if(i===je)for(a=Ue+1;a<=12;a++)Q('.mbsc-cal-cell[data-val="'+a+'"]',et.$scroller).addClass("mbsc-disabled")}for(t||(I(Q(".mbsc-cal-prev-m",ee),q(e,-it)<=Be),I(Q(".mbsc-cal-next-m",ee),q(e,nt-it)>qe),I(Q(".mbsc-cal-prev-y",ee),lt.getDate(i-1,r+1,1)<=Be),I(Q(".mbsc-cal-next-y",ee),lt.getDate(i+1,r,1)>qe)),re.attr("aria-label",i).html(o),a=0;a<nt;a++)e=lt.getDate(i,r-it+a,1),s=lt.getYear(e),n=lt.getMonth(e),o=s+gt,te.eq(a).attr("aria-label",lt.monthNames[n]+(bt?"":" "+i)).html((!bt&&vt<Ke?o+" ":"")+Qe[n]+(!bt&&vt>Ke?" "+o:""))}function I(e,t){t?e.addClass(ge).attr("aria-disabled","true"):e.removeClass(ge).removeAttr("aria-disabled")}function L(t,a){var s=e.getDate(!0),n=t[0],i=t.attr("data-full"),r=i?i.split("-"):[],o=h(r[0],r[1]-1,r[2]),l=h(o.getFullYear(),o.getMonth(),o.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()),c=t.hasClass("mbsc-selected"),d=Q(a.target),u=d[0];if(ct||!t.hasClass("mbsc-cal-day-diff")){if(Se&&n.contains(u))for(;u!=n;){if(d.hasClass("mbsc-cal-txt")||d.hasClass("mbsc-cal-txt-more")){var m=d.attr("data-index"),f=Le[o];if(dt("onLabelTap",{date:l,domEvent:a,target:d[0],labels:f,label:f[m]})===!1)return;break}d=d.parent(),u=d[0]}dt("onDayChange",ne(De[i],{date:l,target:n,selected:c}))===!1||lt.readonly||t.hasClass("mbsc-disabled")||e._selectDay(t,o,l,c)}}function N(e){a(ae),W(lt.getDate(lt.getYear(Me.first),e.attr("data-val"),1),!0,!0)}function O(e){a(oe),W(lt.getDate(e.attr("data-val"),lt.getMonth(Me.first),1),!0,!0)}function R(e,t,a){var s=lt.getYear(e),n=lt.getMonth(e),i=e.getDay(),r=Te-i>0?7:0;return t?lt.getDate(s,n,1):lt.getDate(s,n,(a||Te)-r-i+lt.getDay(e))}function q(e,t){var a=lt.getYear(e),s=lt.getMonth(e),n=lt.getDay(e);return We?lt.getDate(a,s+t,1):lt.getDate(a,s,n+t*me*7)}function X(e,t){var a=12*Math.floor(lt.getYear(e)/12);return lt.getDate(a+12*t,0,1)}function z(t,a,s,n){a&&e._isVisible&&(t.queue.push(arguments),1==t.queue.length&&U(t,a,s,n))}function U(e,t,a,s){var n,i,r="",o=e.$scroller,l=e.buffer,c=e.offset,d=e.pages,u=e.total,m=e.first,f=e.genPage,h=e.getFirst,b=t>0?Math.min(t,l):Math.max(t,-l),v=e.pos*ot+b-t+c,p=Math.abs(t)>l;e.callback&&(e.load(),e.callback()),e.first=h(m,t),e.pos+=b*ot,e.changing=!0,e.load=function(){if(p){for(n=0;n<d;n++)i=t+n-c,r+=f(h(m,i),v+i);t>0?(Q(".mbsc-cal-slide",o).slice(-d).remove(),o.append(r)):t<0&&(Q(".mbsc-cal-slide",o).slice(0,d).remove(),o.prepend(r))}},e.callback=function(){var a=Math.abs(b),r="";for(n=0;n<a;n++)i=t+n-c-l+(t>0?u-a:0),r+=f(h(m,i),v+i);if(t>0?(o.append(r),Q(".mbsc-cal-slide",o).slice(0,b).remove()):t<0&&(o.prepend(r),Q(".mbsc-cal-slide",o).slice(b).remove()),p){for(r="",n=0;n<a;n++)i=t+n-c-l+(t>0?0:u-a),r+=f(h(m,i),v+i);t>0?(Q(".mbsc-cal-slide",o).slice(0,b).remove(),o.prepend(r)):t<0&&(Q(".mbsc-cal-slide",o).slice(b).remove(),o.append(r))}B(e),s&&s(),e.callback=null,e.load=null,e.queue.shift(),p=!1,e.queue.length?U.apply(this,e.queue[0]):(e.changing=!1,e.onAfterChange(e.first))},e.onBeforeChange(e.first),e.load(),e.scroller.scroll(-e.pos*e.size,a?200:0,!1,e.callback)}function j(t,a,s,n,i,r,o,l,c,u,m,f,h){var b=Ie?"Y":"X",v={$scroller:Q(".mbsc-cal-scroll",t),queue:[],buffer:n,offset:i,pages:r,first:l,total:o,pos:0,min:a,max:s,genPage:f,getFirst:h,onBeforeChange:u,onAfterChange:m};return v.scroller=new Ee(t,{axis:b,easing:"",contSize:0,maxSnapScroll:n,mousewheel:lt.mousewheel,time:200,lock:!0,rtl:$e,stopProp:!1,minScroll:0,maxScroll:0,onBtnTap:function(e){"touchend"==e.domEvent.type&&d(),c(Q(e.target),e.domEvent)},onAnimationStart:function(){v.changing=!0},onAnimationEnd:function(e){f&&z(v,Math.round((-v.pos*v.size-e["pos"+b])/v.size)*ot)}}),e._scrollers.push(v.scroller),v}function B(e,t){var a,s=0,n=0,i=e.first;if(!e.changing||!t){if(e.getFirst){for(s=e.buffer,n=e.buffer;n&&e.getFirst(i,n+e.pages-e.offset-1)>e.max;)n--;for(;s&&e.getFirst(i,1-s-e.offset)<=e.min;)s--}a=Math.round(fe/e.pages),Fe&&a&&e.size!=a&&e.$scroller[Ie?"height":"width"](a),ne(e.scroller.settings,{snap:a,minScroll:(-e.pos*ot-n)*a,maxScroll:(-e.pos*ot+s)*a}),e.size=a,e.scroller.refresh()}}function G(t){e._isVisible&&ke&&me&&(Me&&Me.changing?at=t:A(we,t,!0)),e._onRefresh(t)}function J(){if(ke&&me){var t=Q(".mbsc-cal-scroll-c",ee);Me=j(t[0],Be,qe,st,it,nt,rt,we,L,_,w,Y,q),Ae&&(et=j(t[1],null,null,1,0,1,3,we,N),pt=j(t[2],Ge,Xe,1,0,1,3,we,O,s,s,k,X),e.tap(te,function(){n(ae),a(oe)}),e.tap(re,function(){n(oe),a(ae)})),V(Q(".mbsc-cal-btn",ee),function(e,t,a,s){z(Me,t,!0,s)}),w(we),null===lt.defaultValue&&!e._hasValue||e._multiple||(e._activeElm=Me.$active[0]),K.on("keydown",function(e){var t,a=lt.getYear(de),s=lt.getMonth(de),n=lt.getDay(de);switch(e.keyCode){case 32:L(Me.$active,e);break;case 37:t=lt.getDate(a,s,n-1);break;case 39:t=lt.getDate(a,s,n+1);break;case 38:t=lt.getDate(a,s,n-7);break;case 40:t=lt.getDate(a,s,n+7);break;case 36:t=lt.getDate(a,s,1);break;case 35:t=lt.getDate(a,s+1,0);break;case 33:t=e.altKey?lt.getDate(a-1,s,n):We?lt.getDate(a,s-1,n):lt.getDate(a,s,n-7*me);break;case 34:t=e.altKey?lt.getDate(a+1,s,n):We?lt.getDate(a,s+1,n):lt.getDate(a,s,n+7*me)}t&&(e.preventDefault(),W(t,!0,!1,!0))})}e.tap(Q(".mbsc-cal-tab",ee),function(){e.changeTab(Q(this).attr("data-control"))})}var Z,K,ee,te,ae,se,ie,re,oe,de,ue,me,fe,he,be,ve,pe,ge,ye,_e,we,xe,De,Me,Ce,Te,ke,Se,Ve,Ye,Ae,Pe,He,Fe,We,$e,Ie,Le,Ne,qe,Xe,ze,Ue,je,Be,Ge,Je,Ze,Ke,Qe,et,tt,at,st,nt,it,rt,ot,lt,ct,dt,ut,mt,ft,ht,bt,vt,pt,gt,yt=this;return i(),ue=Oe.call(this,e),r(),e.refresh=function(){G(!1)},e.redraw=function(){G(!0)},e.navigate=function(e,t){W(x(e,Ce,lt),!0,t)},e.changeTab=function(t){e._isVisible&&ve[t]&&mt!=t&&(mt=t,Q(".mbsc-cal-tab",ee).removeClass(_e).removeAttr("aria-selected"),Q('.mbsc-cal-tab[data-control="'+t+'"]',ee).addClass(_e).attr("aria-selected","true"),Ye&&(ie.addClass("mbsc-cal-h"),ve[mt].removeClass("mbsc-cal-h")),"calendar"==mt&&W(e.getDate(!0),!1,!0),e._showDayPicker(),e.trigger("onTabChange",{tab:mt}))},e._onGenMonth=s,e._onSelectShow=s,e._onSetDate=s,e._onRefresh=s,e._getDayProps=s,e._prepareObj=l,e._showDayPicker=function(){Ae&&(a(oe,!0),a(ae,!0))},e._selectDay=e.__selectDay=function(t,a,s){var n=e.live;tt=lt.outerMonthChange,He=!0,e.setDate(s,n,1e3,!n,!0),n&&dt("onSet",{valueText:e._value})},ne(ue,{labels:null,compClass:"mbsc-calendar mbsc-dt mbsc-sc",onMarkupReady:function(t){var a=0;ee=Q(t.target),se=Q(".mbsc-fr-c",ee),de=e.getDate(!0),fe=0,ke&&(Ve=!(!lt.marked&&!lt.data||lt.labels||lt.multiLabel||lt.showEventCount),tt=!0,mt="calendar",f(),we=R(b(de),We),se.append(T()),te=Q(".mbsc-cal-month",ee),re=Q(".mbsc-cal-year",ee),K=Q(".mbsc-cal-day-scroll-c",ee)),Ae&&(oe=Q(".mbsc-cal-year-picker",ee),ae=Q(".mbsc-cal-month-picker",ee)),ie=Q(".mbsc-w-p",ee),pe.length>1&&se.before(C()),["date","time","calendar"].forEach(function(e){ve[e]?(ve[e]=ie.eq(a),a++):"date"==e&&!ve.date&&ke&&(ie.eq(a).remove(),a++)}),pe.forEach(function(e){se.append(ve[e])}),!ke&&ve.date&&ve.date.css("position","relative"),e._scrollers=[],J()},onShow:function(){ke&&me&&$(We?we:de)},onHide:function(){e._scrollers.forEach(function(e){e.destroy()}),De=null,Me=null,et=null,pt=null,mt=null},onValidated:function(t){var a,s,n=t.index,i=e._order;s=e.getDate(!0),He?a="calendar":void 0!==n&&(a=i.dd==n||i.d==n||i.m==n||i.y==n?"date":"time"),dt("onSetDate",{date:s,control:a}),"time"!==a&&W(s,!1,!!t.time,He&&!e._multiple),He=!1},onPosition:function(t){var a,s,n,i,r,o,l,c=t.oldHeight,d=t.windowHeight;if(Ye=(t.hasTabs||lt.tabs===!0||lt.tabs!==!1&&Fe)&&pe.length>1,Fe&&(t.windowWidth>=lt.breakPointMd?Q(t.target).addClass("mbsc-fr-md"):Q(t.target).removeClass("mbsc-fr-md")),Ye?(ee.addClass("mbsc-cal-tabbed"),mt=Q(".mbsc-cal-tab.mbsc-selected",ee).attr("data-control"),ie.addClass("mbsc-cal-h"),ve[mt].removeClass("mbsc-cal-h")):(ee.removeClass("mbsc-cal-tabbed"),ie.removeClass("mbsc-cal-h")),e._isFullScreen&&(K.height(""),r=t.popup.offsetHeight,l=d-r+K[0].offsetHeight,d>=r&&K.height(l)),Se&&me&&d!=c){var u=l||K[0].offsetHeight,m=Q(".mbsc-cal-txt-ph")[0],f=m.offsetTop,h=m.offsetHeight,b=Math.max(1,Math.floor((u/me-f)/(h+2)));ze!=b&&(ze=b,e.redraw())}if(ke&&me){if(o=Fe||Ie||Ye?K[0][Ie?"offsetHeight":"offsetWidth"]:he||280*nt,i=o!=fe,fe=o,Fe&&i&&bt)for(Qe=lt.maxMonthWidth>te[0].offsetWidth?lt.monthNamesShort:lt.monthNames,s=lt.getYear(we),n=lt.getMonth(we),a=0;a<nt;a++)te.eq(a).text(Qe[lt.getMonth(lt.getDate(s,n-it+a,1))]);i&&B(Me,!0)}Ae&&i&&(B(et,!0),B(pt,!0))}})},Xe={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0,fromText:"Start",toText:"End"};We.range=function(e){function t(e,t){e&&(e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()))}function a(t,a){var s=e._order,n=new Date(t);return void 0===s.h&&n.setHours(a?23:0),void 0===s.i&&n.setMinutes(a?59:0),void 0===s.s&&n.setSeconds(a?59:0),n.setMilliseconds(a?999:0),n}function s(t){e._startDate=H=k,e._endDate=F=V,I.startInput&&(Q(I.startInput).val(e.startVal),t&&Q(I.startInput).trigger("change")),I.endInput&&(Q(I.endInput).val(e.endVal),t&&Q(I.endInput).trigger("change"))}function n(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function i(e){y?(V-k>I.maxRange-1&&(e?k=new Date(Math.max(M,V-I.maxRange+1)):V=new Date(Math.min(D,+k+I.maxRange-1))),V-k<I.minRange-1&&(e?k=new Date(Math.max(M,V-I.minRange+1)):V=new Date(Math.min(D,+k+I.minRange-1)))):(Math.ceil((V-k)/O)>q&&(e?k=a(Math.max(M,n(V,1-q)),!1):V=a(Math.min(D,n(k,q-1)),!0)),Math.ceil((V-k)/O)<R&&(e?k=a(Math.max(M,n(V,1-R)),!1):V=a(Math.min(D,n(k,R-1)),!0)))}function r(e,t){var a=!0;return e&&k&&V&&(i(E),i(!E)),k&&V||(a=!1),t&&d(),a}function o(){return k&&V?Math.max(1,Math.round((new Date(V).setHours(0,0,0,0)-new Date(k).setHours(0,0,0,0))/864e5)+1):0}function l(e){e.addClass(z).attr("aria-checked","true")}function c(){P&&h&&(Q(".mbsc-range-btn",h).removeClass(z).removeAttr("aria-checked"),l(Q(".mbsc-range-btn",h).eq(E)))}function d(){var t,a,s,n,i,r=0,o=N||!E?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",l=N||E?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(e.startVal=k?b(g,k,I):"",e.endVal=V?b(g,V,I):"",h&&(Q(".mbsc-range-btn-v-start",h).html(e.startVal||"&nbsp;"),Q(".mbsc-range-btn-v-end",h).html(e.endVal||"&nbsp;"),t=k?new Date(k):null,s=V?new Date(V):null,!t&&s&&(t=new Date(s)),!s&&t&&(s=new Date(t)),i=E?s:t,Q(".mbsc-cal-day-picker .mbsc-cal-day-hl",h).removeClass(U),Q(".mbsc-cal-day-picker .mbsc-selected",h).removeClass("mbsc-cal-sel-start mbsc-cal-sel-end "+z).removeAttr("aria-selected"),t&&s))for(a=t.setHours(0,0,0,0),n=s.setHours(0,0,0,0);s>=t&&r<126;)Q('.mbsc-cal-day[data-full="'+i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()+'"]',h).addClass(z+" "+(i.getTime()===a?o:"")+(i.getTime()===n?l:"")).attr("aria-selected","true"),i.setDate(i.getDate()+(E?-1:1)),i.setHours(0,0,0,0),r++}function u(e,t){return{h:e?e.getHours():t?23:0,i:e?e.getMinutes():t?59:0,s:e?e.getSeconds():t?59:0}}function m(){k&&(_=!0,e.setDate(k,!1,0,!0),k=e.getDate(!0)),V&&(_=!0,e.setDate(V,!1,0,!0),V=e.getDate(!0))}var f,h,p,g,y,_,D,M,C,k,S,V,Y,A,P,H=e._startDate,F=e._endDate,E=0,W=new Date,$=ne({},e.settings),I=ne(e.settings,Xe,$),L=I.anchor,N=I.rangeTap,O=864e5,R=Math.max(1,Math.ceil(I.minRange/O)),q=Math.max(1,Math.ceil(I.maxRange/O)),X="mbsc-disabled "+(I.disabledClass||""),z="mbsc-selected "+(I.selectedClass||""),U="mbsc-cal-day-hl",j=null===I.defaultValue?[]:I.defaultValue||[new Date(W.setHours(0,0,0,0)),new Date(W.getFullYear(),W.getMonth(),W.getDate()+6,23,59,59,999)];return N&&(I.tabs=!0),f=qe.call(this,e),g=e._format,y=/time/i.test(I.controls.join(",")),A="time"===I.controls.join(""),P=I.showSelector,D=I.max?a(x(I.max,g,I),!0):1/0,M=I.min?a(x(I.min,g,I),!1):-(1/0),j[0]=x(j[0],g,I,I.isoParts),j[1]=x(j[1],g,I,I.isoParts),I.startInput&&e.attachShow(Q(I.startInput),function(){E=0,I.anchor=L||Q(I.startInput)}),I.endInput&&e.attachShow(Q(I.endInput),function(){E=1,I.anchor=L||Q(I.endInput)}),e._getDayProps=function(e,t){var a=k?new Date(k.getFullYear(),k.getMonth(),k.getDate()):null,s=V?new Date(V.getFullYear(),V.getMonth(),V.getDate()):null;return{selected:a&&s&&e>=a&&e<=V,cssClass:t.cssClass+" "+((N||!E)&&a&&a.getTime()===e.getTime()||(N||E)&&s&&s.getTime()===e.getTime()?U:"")+(a&&a.getTime()===e.getTime()?" mbsc-cal-sel-start":"")+(s&&s.getTime()===e.getTime()?" mbsc-cal-sel-end":"")}},e.setVal=function(t,a,s,n,i){var r=t||[],o=t;k=x(r[0],g,I,I.isoParts),V=x(r[1],g,I,I.isoParts),m(),e.startVal=k?b(g,k,I):"",e.endVal=V?b(g,V,I):"",o=f.parseValue(E?V:k,e),n||(e._startDate=H=k,e._endDate=F=V),C=!0,e._setVal(o,a,s,n,i)},e.getVal=function(t){return t?[w(k,I,g),w(V,I,g)]:e._hasValue?[w(H,I,g),w(F,I,g)]:null},e.setActiveDate=function(t){var a;E="start"==t?0:1,a="start"==t?k:V,e.isVisible()&&(c(),N||(Q(".mbsc-cal-table .mbsc-cal-day-hl",h).removeClass(U),a&&Q('.mbsc-cal-day[data-full="'+a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+'"]',h).addClass(U)),a&&(_=!0,e.setDate(a,!1,1e3,!0)))},e.getValue=e.getVal,ne({},f,{highlight:!1,outerMonthChange:!1,formatValue:function(){return e.startVal+(I.endInput?"":e.endVal?" - "+e.endVal:"")},parseValue:function(t){var a=t?t.split(" - "):[],s=I.startInput?Q(I.startInput).val():a[0],n=I.endInput?Q(I.endInput).val():a[1];return I.defaultValue=j[1],F=n?v(g,n,I):j[1],I.defaultValue=j[0],H=s?v(g,s,I):j[2],I.defaultValue=j[E],e.startVal=H?b(g,H,I):"",e.endVal=F?b(g,F,I):"",e._startDate=H,e._endDate=F,f.parseValue(E?F:H,e)},onFill:function(e){s(e.change)},onBeforeClose:function(t){if("set"===t.button&&!r(!0,!0))return e.setActiveDate(E?"start":"end"),!1},onHide:function(){f.onHide.call(e),E=0,h=null,I.anchor=L},onClear:function(){N&&(E=0)},onBeforeShow:function(){k=H||j[0],V=F||j[1],S=u(k,0),Y=u(V,1),I.counter&&(I.headerText=function(){var e=o();return(e>1?I.selectedPluralText||I.selectedText:I.selectedText).replace(/{count}/,e)}),C=!0},onMarkupReady:function(t){var a;m(),(E&&V||!E&&k)&&(_=!0,e.setDate(E?V:k,!1,0,!0)),d(),f.onMarkupReady.call(this,t),h=Q(t.target),h.addClass("mbsc-range"),P&&(a='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" data-select="start" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+I.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(e.startVal||"&nbsp;")+'</div></div></div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" data-select="end" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+I.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(e.endVal||"&nbsp;")+"</div></div></div></div>",I.headerText?Q(".mbsc-fr-hdr",h).after(a):Q(".mbsc-fr-w",h).prepend(a),c()),Q(".mbsc-range-btn",h).on("touchstart click",function(t){T(t,this)&&(e._showDayPicker(),e.setActiveDate(Q(this).attr("data-select")))})},onDayChange:function(e){e.active=E?"end":"start",p=!0},onSetDate:function(s){var n;_||(n=a(s.date,E),C&&!p||(N&&p&&(1==E&&n<k&&(E=0),E?n.setHours(Y.h,Y.i,Y.s,999):n.setHours(S.h,S.i,S.s,0)),E?(V=new Date(n),Y=u(V)):(k=new Date(n),S=u(k)),A&&I.autoCorrect&&(t(k,n),t(V,n)),N&&p&&!E&&(V=null))),A&&!I.autoCorrect&&V<k&&(V=new Date(V.setDate(V.getDate()+1))),e._isValid=r(C||p||I.autoCorrect,!_),s.active=E?"end":"start",!_&&N&&(p&&(E=E?0:1),c()),e.isVisible()&&(e._isValid?Q(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).removeClass(X):Q(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).addClass(X)),p=!1,C=!1,_=!1},onTabChange:function(t){"calendar"!=t.tab&&e.setDate(E?V:k,!1,1e3,!0),r(!0,!0)}})},a("range",Le),H.customTheme("mobiscroll-dark","mobiscroll");var ze=H.themes;ze.frame.windows={headerText:!1,deleteIcon:"backspace4",btnReverse:!0},ze.scroller.windows=ne({},ze.frame.windows,{rows:6,minWidth:88,height:44,btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",checkIcon:"material-check",dateDisplay:"MMdyy",showLabel:!1,showScrollArrows:!0,btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5",dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],useShortLabels:!0}),ze.form.windows={},H.customTheme("windows-dark","windows");var Ue=H.themes,je="mobiscroll";return"android"==L?je="material":"ios"==L?je="ios":"wp"==L&&(je="windows"),Q.each(Ue.frame,function(e,t){return je&&t.baseTheme==je&&"mobiscroll-dark"!=e&&"material-dark"!=e&&"windows-dark"!=e&&"ios-dark"!=e?(H.autoTheme=e,!1):void(e==je&&(H.autoTheme=e))}),H.uid="c570d5ff",H});
